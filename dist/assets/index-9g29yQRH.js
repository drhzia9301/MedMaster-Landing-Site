import{r as $n,a as Tr,g as Cr}from"./vendor-D3F3s8fL.js";import{r as p,a as F,R as g,A as fs,E as kt,b as jt,c as ps,M as ss,d as Us,U as rs,Z as Fs,L as Hn,S as zn,C as Vn,e as Wn,f as Gn,g as Bs,B as qn,G as Kn,h as Yn,i as Jn,X as ns,j as $s,k as Xn}from"./utils-B6_YLp1M.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}})();var Kt={exports:{}},it={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hs;function Qn(){if(Hs)return it;Hs=1;var s=$n(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(d,c,u){var h,l={},m=null,b=null;u!==void 0&&(m=""+u),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(b=c.ref);for(h in c)r.call(c,h)&&!i.hasOwnProperty(h)&&(l[h]=c[h]);if(d&&d.defaultProps)for(h in c=d.defaultProps,c)l[h]===void 0&&(l[h]=c[h]);return{$$typeof:e,type:d,key:m,ref:b,props:l,_owner:a.current}}return it.Fragment=t,it.jsx=o,it.jsxs=o,it}var zs;function Zn(){return zs||(zs=1,Kt.exports=Qn()),Kt.exports}var n=Zn(),vt={},Vs;function ea(){if(Vs)return vt;Vs=1;var s=Tr();return vt.createRoot=s.createRoot,vt.hydrateRoot=s.hydrateRoot,vt}var ta=ea();const sa=Cr(ta),Ws=({className:s})=>n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:s,children:[n.jsx("path",{d:"M12 5a3.5 3.5 0 0 0-3.5 3.5c0 .5.1 1 .3 1.5.2.5.4 1 .7 1.5.3.5.6 1 .9 1.5.3.5.7 1 1.1 1.5.4.5.8 1 1.2 1.5.4.5.9 1 1.4 1.5.5.5 1 .9 1.5 1.4.5.4.9.8 1.4 1.2.5.4 1 .8 1.5 1.2.5.4.9.7 1.5.9.5.2 1 .4 1.5.7.5.2 1 .3 1.5.3a3.5 3.5 0 0 0 3.5-3.5c0-.5-.1-1-.3-1.5s-.4-1-.7-1.5c-.3-.5-.6-1-.9-1.5s-.7-1-1.1-1.5c-.4-.5-.8-1-1.2-1.5s-.9-1-1.4-1.5c-.5-.5-1-.9-1.5-1.4c-.5-.4-.9-.8-1.4-1.2c-.5-.4-1-.8-1.5-1.2s-.9-.7-1.5-.9c-.5-.2-1-.4-1.5-.7c-.5-.2-1-.3-1.5-.3Z"}),n.jsx("path",{d:"M12 5a3.5 3.5 0 0 1 3.5 3.5c0 .5-.1 1-.3 1.5s-.4 1-.7 1.5c-.3.5-.6 1-.9 1.5s-.7 1-1.1 1.5c-.4.5-.8 1-1.2 1.5s-.9 1-1.4 1.5c-.5.5-1 .9-1.5 1.4s-.9.8-1.4 1.2c-.5.4-1 .8-1.5 1.2s-.9.7-1.5.9c-.5.2-1 .4-1.5.7s-1 .3-1.5.3a3.5 3.5 0 0 1-3.5-3.5c0-.5.1-1 .3-1.5s.4-1 .7-1.5c.3-.5.6-1 .9-1.5s.7-1 1.1-1.5c.4-.5.8-1 1.2-1.5s.9-1 1.4-1.5c.5-.5 1-.9 1.5-1.4s.9-.8 1.4-1.2c.5-.4 1-.8 1.5-1.2s.9-.7 1.5-.9c.5-.2 1-.4 1.5-.7s1-.3 1.5-.3Z"})]}),Gs=({className:s})=>n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:s,children:[n.jsx("path",{d:"M4 8v5a4 4 0 0 0 4 4h1"}),n.jsx("path",{d:"M8 8a4 4 0 1 0-8 0"}),n.jsx("path",{d:"M12 21v-4a4 4 0 0 0-4-4H4"}),n.jsx("path",{d:"M20 8v5a4 4 0 0 1-4 4h-1"}),n.jsx("path",{d:"M16 8a4 4 0 1 1 8 0"}),n.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),qs=({className:s})=>n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:s,children:[n.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),n.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),n.jsx("path",{d:"M4 22h16"}),n.jsx("path",{d:"M10 14.5a2.5 2.5 0 0 0 4 0"}),n.jsx("path",{d:"M8 22V11c0-1.66 1.34-3 3-3h2c1.66 0 3 1.34 3 3v11"})]}),Ut=({className:s})=>n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:s,children:[n.jsx("path",{d:"M12 20h-4a2 2 0 0 1 -2 -2V12a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v4"}),n.jsx("path",{d:"M12 10V6a2 2 0 0 1 2 -2h2"}),n.jsx("path",{d:"M12 6a2 2 0 0 0 -2 -2H8"}),n.jsx("path",{d:"M16 4a2 2 0 0 1 2 2"}),n.jsx("path",{d:"M8 4a2 2 0 0 0 -2 2"}),n.jsx("path",{d:"M12 20l0 -8"}),n.jsx("path",{d:"M8 20l-2 -4"}),n.jsx("path",{d:"M16 20l2 -4"}),n.jsx("path",{d:"M3 14h2"}),n.jsx("path",{d:"M19 14h2"})]}),Ks=({className:s})=>n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:s,children:[n.jsx("path",{d:"M3 3v18h18"}),n.jsx("path",{d:"M9 17V9"}),n.jsx("path",{d:"M15 17V5"}),n.jsx("path",{d:"M12 17v-4"})]}),ra=()=>{const s=p.useCallback(a=>{typeof window<"u"&&window.gtag&&window.gtag("config","GA_MEASUREMENT_ID",{page_title:a,page_location:window.location.href})},[]),e=p.useCallback((a,i)=>{typeof window<"u"&&window.gtag&&window.gtag("event",a,{event_category:"engagement",event_label:i?.label||"",value:i?.value||0,...i})},[]),t=p.useCallback((a,i)=>{e("conversion",{action:a,value:i,event_category:"conversion"})},[e]),r=p.useCallback(()=>{let a=0;const i=()=>{const o=Math.round(window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)*100);o>a&&(a=o,[25,50,75,90].includes(o)&&e("scroll_depth",{scroll_depth:o,event_category:"engagement"}))};return window.addEventListener("scroll",i,{passive:!0}),()=>window.removeEventListener("scroll",i)},[e]);return{trackPageView:s,trackEvent:e,trackConversion:t,trackScrollDepth:r}},Tt=s=>{const[e,t]=p.useState(!1),[r,a]=p.useState(!1),i=p.useRef(null);return p.useEffect(()=>{const o=i.current;if(!o)return;const d=new IntersectionObserver(([c])=>{t(c.isIntersecting),c.isIntersecting&&!r&&a(!0)},{threshold:.1,rootMargin:"50px",...s});return d.observe(o),()=>{d.unobserve(o)}},[r,s]),{targetRef:i,isIntersecting:e,hasIntersected:r}},na=(s,e)=>{const[t,r]=p.useState(e||""),[a,i]=p.useState(!1),[o,d]=p.useState(!1),{targetRef:c,hasIntersected:u}=Tt();return p.useEffect(()=>{if(!u)return;const h=new Image;h.onload=()=>{r(s),i(!0)},h.onerror=()=>{d(!0)},h.src=s},[s,u]),{targetRef:c,imageSrc:t,isLoaded:a,isError:o,hasIntersected:u}},Ct=({size:s="md",color:e="blue",className:t=""})=>{const r={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},a={white:"text-white",blue:"text-blue-500",gray:"text-gray-500",green:"text-green-500",red:"text-red-500"};return n.jsx("div",{className:`inline-block ${t}`,children:n.jsxs("svg",{className:`animate-spin ${r[s]} ${a[e]}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})},aa=({src:s,alt:e,className:t="",placeholder:r,fallbackSrc:a,onLoad:i,onError:o})=>{const[d,c]=p.useState(!1),{targetRef:u,imageSrc:h,isLoaded:l,isError:m}=na(s,r||`data:image/svg+xml;base64,${btoa(`
      <svg xmlns="http://www.w3.org/2000/svg" width="400" height="300" viewBox="0 0 400 300">
        <rect width="400" height="300" fill="#374151"/>
        <text x="200" y="150" text-anchor="middle" fill="#9CA3AF" font-size="16" font-family="Arial">Loading...</text>
      </svg>
    `)}`),b=()=>{c(!0),o?.()},x=()=>{i?.()},E=()=>m||d?a||`data:image/svg+xml;base64,${btoa(`
        <svg xmlns="http://www.w3.org/2000/svg" width="400" height="300" viewBox="0 0 400 300">
          <rect width="400" height="300" fill="#374151"/>
          <circle cx="200" cy="130" r="20" fill="#6B7280"/>
          <path d="M180 150 L220 150 M190 160 L210 160" stroke="#6B7280" stroke-width="2" fill="none"/>
          <text x="200" y="190" text-anchor="middle" fill="#9CA3AF" font-size="14" font-family="Arial">Image not available</text>
        </svg>
      `)}`:h;return n.jsxs("div",{ref:u,className:`relative overflow-hidden ${t}`,children:[n.jsx("img",{src:E(),alt:e,className:`w-full h-full object-cover transition-opacity duration-300 ${l&&!m&&!d?"opacity-100":"opacity-75"}`,onLoad:x,onError:b,loading:"lazy"}),!l&&!m&&!d&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50",children:n.jsx(Ct,{size:"md",color:"white"})}),(m||d)&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75",children:n.jsxs("div",{className:"text-center text-gray-300",children:[n.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),n.jsx("p",{className:"text-sm",children:"Image unavailable"})]})})]})},ia=[{question:"How does the Spaced Repetition System work?",answer:"Our SRS is based on the proven SM2 algorithm used by Anki. It automatically schedules questions based on your performance, showing difficult concepts more frequently and easy ones less often. This scientifically-proven method helps you retain information for the long term."},{question:"What medical subjects are covered?",answer:"MedMaster focuses on Microbiology and Pharmacology with over 10,000 questions covering bacteria, viruses, fungi, parasites, and drug mechanisms. We also include 3,000+ clinical cases for practical application."},{question:"Can I use MedMaster offline?",answer:"Yes! Our mobile-optimized platform works offline once content is loaded. You can study anywhere, anytime without worrying about internet connectivity."},{question:"How accurate are the questions compared to actual exams?",answer:"Our questions are curated from trusted medical resources like Sketchy, Pixorize, and First Aid. Many students report 25-40% improvement in exam scores after using MedMaster for 2-3 months."},{question:"Is there a free trial available?",answer:"Yes! You can start learning immediately with our free trial. No credit card required. Experience all features including Quick Fire mode, clinical cases, and analytics."},{question:"How does the gamification system work?",answer:"Earn XP points for correct answers, unlock achievements, customize avatars, and compete on global leaderboards. Our scoring system includes combo multipliers and daily challenges to keep you motivated."},{question:"What makes MedMaster different from other study apps?",answer:"MedMaster combines proven learning science (SRS) with engaging gamification specifically for medical students. Our AI-powered analytics provide personalized insights, and our clinical cases bridge the gap between theory and practice."},{question:"Can I track my progress over time?",answer:"Absolutely! Our advanced analytics dashboard shows detailed performance metrics, learning patterns, weak areas, and predictive insights to optimize your study strategy."}],oa=({item:s,isOpen:e,onToggle:t})=>n.jsxs("div",{className:"border border-gray-700 rounded-lg overflow-hidden transition-all duration-300 hover:border-blue-500",children:[n.jsxs("button",{className:"w-full px-6 py-4 text-left bg-gray-800 hover:bg-gray-750 transition-colors duration-200 flex justify-between items-center",onClick:t,children:[n.jsx("span",{className:"text-white font-medium pr-4",children:s.question}),n.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform duration-200 flex-shrink-0 ${e?"transform rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n.jsx("div",{className:`overflow-hidden transition-all duration-300 ${e?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:n.jsx("div",{className:"px-6 py-4 bg-gray-850 text-gray-300 leading-relaxed",children:s.answer})})]}),la=()=>{const[s,e]=p.useState(new Set),{targetRef:t,hasIntersected:r}=Tt(),a=i=>{const o=new Set(s);o.has(i)?o.delete(i):o.add(i),e(o)};return n.jsx("section",{ref:t,id:"faq",className:"py-20 bg-gray-900",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl font-bold mb-4 text-white",children:"Frequently Asked Questions"}),n.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"Get answers to common questions about MedMaster"})]}),r&&n.jsx("div",{className:"space-y-4",children:ia.map((i,o)=>n.jsx(oa,{item:i,isOpen:s.has(o),onToggle:()=>a(o)},o))})]})})},ne="https://your-backend-domain.com",V={auth:{login:`${ne}/api/auth/login`,register:`${ne}/api/auth/register`,registerFirebase:`${ne}/api/auth/register-firebase`,google:`${ne}/api/auth/google`,profile:`${ne}/api/auth/profile`},payment:{createCheckout:`${ne}/api/payment/create-checkout-session`,createSession:`${ne}/api/payment/create-session`,methods:`${ne}/api/payment/methods`,verify:`${ne}/api/payment/verify`,history:`${ne}/api/payment/history`,transaction:s=>`${ne}/api/payment/transaction/${s}`,success:`${ne}/api/payment/success`}},Ae=s=>({headers:{Authorization:`Bearer ${s}`}});class ca{isDevMode(){return new URLSearchParams(window.location.search).get("dev")==="true"}async getSubscriptionStatus(){if(this.isDevMode())return console.log("Running in dev mode, returning premium subscription"),{subscription_type:"premium",status:"active",plan_name:"Premium Plan (Dev Mode)",end_date:new Date(Date.now()+365*24*60*60*1e3).toISOString(),days_remaining:365};try{const e=localStorage.getItem("medMasterToken");if(console.log("Token exists:",!!e),!e)return console.log("No authentication token found, returning demo status"),{subscription_type:"demo",status:null};console.log("Making API request to:",V.auth.profile);const t=await F.get(V.auth.profile,Ae(e));console.log("Subscription API response:",t.data);const r=t.data.subscription||t.data;return{subscription_type:r.subscription_type||"demo",status:r.status,plan_name:r.plan_name,end_date:r.end_date,days_remaining:r.end_date?Math.max(0,Math.ceil((new Date(r.end_date).getTime()-new Date().getTime())/(1e3*60*60*24))):void 0}}catch(e){return console.error("Error fetching subscription status:",e),console.log("Error details:",{message:e.message,status:e.response?.status,statusText:e.response?.statusText,data:e.response?.data}),{subscription_type:"demo",status:null}}}async checkFeatureAccess(e,t=1){if(this.isDevMode())return{allowed:!0,remaining_usage:-1,upgrade_required:!1,message:"Dev mode - unlimited access"};try{return localStorage.getItem("medMasterToken")?{allowed:!0,remaining_usage:-1,upgrade_required:!1,message:"Access granted"}:{allowed:!1,upgrade_required:!0,message:"Please log in to access this feature"}}catch(r){return console.error("Error checking feature access:",r),{allowed:!1,upgrade_required:!0,message:"Unable to verify access. Please try again."}}}async getSubscriptionPlans(){try{return[{id:1,name:"Demo",price:0,description:"Limited access to Gram Positive content"},{id:2,name:"Starter",price:999,description:"Full access to all content"},{id:3,name:"Popular",price:1999,description:"Full access plus premium features"}]}catch(e){return console.error("Error fetching subscription plans:",e),[]}}isDemoUser(e){return e==="demo"}hasPremiumAccess(e){return e==="starter"||e==="popular"}getFeatureLimits(e){const t={demo:{questions_per_day:-1,clinical_cases_per_day:-1,flashcards_access:!0,analytics_access:!1},starter:{questions_per_day:-1,clinical_cases_per_day:-1,flashcards_access:!0,analytics_access:!0},popular:{questions_per_day:-1,clinical_cases_per_day:-1,flashcards_access:!0,analytics_access:!0}};return t[e]||t.demo}}const Ue=new ca;var da=Tr();const ua=Cr(da);function ha(s){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}const ma=s=>{switch(s){case"success":return ga;case"info":return ya;case"warning":return ba;case"error":return xa;default:return null}},fa=Array(12).fill(0),pa=({visible:s,className:e})=>g.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":s},g.createElement("div",{className:"sonner-spinner"},fa.map((t,r)=>g.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),ga=g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},g.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ba=g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},g.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ya=g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},g.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),xa=g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},g.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),va=g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},g.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),g.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),wa=()=>{const[s,e]=g.useState(document.hidden);return g.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),s};let as=1;class _a{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...a}=e,i=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:as++,o=this.toasts.find(c=>c.id===i),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:d,title:r}):c):this.addToast({title:r,...a,dismissible:d,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let i=r!==void 0,o;const d=a.then(async u=>{if(o=["resolve",u],g.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(Na(u)&&!u.ok){i=!1;const l=typeof t.error=="function"?await t.error(`HTTP error! status: ${u.status}`):t.error,m=typeof t.description=="function"?await t.description(`HTTP error! status: ${u.status}`):t.description,x=typeof l=="object"&&!g.isValidElement(l)?l:{message:l};this.create({id:r,type:"error",description:m,...x})}else if(u instanceof Error){i=!1;const l=typeof t.error=="function"?await t.error(u):t.error,m=typeof t.description=="function"?await t.description(u):t.description,x=typeof l=="object"&&!g.isValidElement(l)?l:{message:l};this.create({id:r,type:"error",description:m,...x})}else if(t.success!==void 0){i=!1;const l=typeof t.success=="function"?await t.success(u):t.success,m=typeof t.description=="function"?await t.description(u):t.description,x=typeof l=="object"&&!g.isValidElement(l)?l:{message:l};this.create({id:r,type:"success",description:m,...x})}}).catch(async u=>{if(o=["reject",u],t.error!==void 0){i=!1;const h=typeof t.error=="function"?await t.error(u):t.error,l=typeof t.description=="function"?await t.description(u):t.description,b=typeof h=="object"&&!g.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:l,...b})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),c=()=>new Promise((u,h)=>d.then(()=>o[0]==="reject"?h(o[1]):u(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,t)=>{const r=t?.id||as++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Z=new _a,Ia=(s,e)=>{const t=e?.id||as++;return Z.addToast({title:s,...e,id:t}),t},Na=s=>s&&typeof s=="object"&&"ok"in s&&typeof s.ok=="boolean"&&"status"in s&&typeof s.status=="number",Sa=Ia,Ea=()=>Z.toasts,ka=()=>Z.getActiveToasts(),j=Object.assign(Sa,{success:Z.success,info:Z.info,warning:Z.warning,error:Z.error,custom:Z.custom,message:Z.message,promise:Z.promise,dismiss:Z.dismiss,loading:Z.loading},{getHistory:Ea,getToasts:ka});ha("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function wt(s){return s.label!==void 0}const ja=3,Ta="24px",Ca="16px",Ys=4e3,Pa=356,Aa=14,Ra=45,Ma=200;function fe(...s){return s.filter(Boolean).join(" ")}function Da(s){const[e,t]=s.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const Oa=s=>{var e,t,r,a,i,o,d,c,u;const{invert:h,toast:l,unstyled:m,interacting:b,setHeights:x,visibleToasts:E,heights:H,index:v,toasts:w,expanded:y,removeToast:f,defaultRichColors:I,closeButton:P,style:T,cancelButtonStyle:N,actionButtonStyle:A,className:M="",descriptionClassName:K="",duration:Y,position:z,gap:de,expandByDefault:W,classNames:k,icons:L,closeButtonAriaLabel:ue="Close toast"}=s,[be,ee]=g.useState(null),[he,$e]=g.useState(null),[C,B]=g.useState(!1),[$,Q]=g.useState(!1),[me,U]=g.useState(!1),[ke,R]=g.useState(!1),[D,je]=g.useState(!1),[Vt,Wt]=g.useState(0),[Cn,Ts]=g.useState(0),at=g.useRef(l.duration||Y||Ys),Cs=g.useRef(null),ye=g.useRef(null),Pn=v===0,An=v+1<=E,te=l.type,Ye=l.dismissible!==!1,Rn=l.className||"",Mn=l.descriptionClassName||"",bt=g.useMemo(()=>H.findIndex(S=>S.toastId===l.id)||0,[H,l.id]),Dn=g.useMemo(()=>{var S;return(S=l.closeButton)!=null?S:P},[l.closeButton,P]),Ps=g.useMemo(()=>l.duration||Y||Ys,[l.duration,Y]),Gt=g.useRef(0),Je=g.useRef(0),As=g.useRef(0),Xe=g.useRef(null),[On,Ln]=z.split("-"),Rs=g.useMemo(()=>H.reduce((S,G,J)=>J>=bt?S:S+G.height,0),[H,bt]),Ms=wa(),Un=l.invert||h,qt=te==="loading";Je.current=g.useMemo(()=>bt*de+Rs,[bt,Rs]),g.useEffect(()=>{at.current=Ps},[Ps]),g.useEffect(()=>{B(!0)},[]),g.useEffect(()=>{const S=ye.current;if(S){const G=S.getBoundingClientRect().height;return Ts(G),x(J=>[{toastId:l.id,height:G,position:l.position},...J]),()=>x(J=>J.filter(se=>se.toastId!==l.id))}},[x,l.id]),g.useLayoutEffect(()=>{if(!C)return;const S=ye.current,G=S.style.height;S.style.height="auto";const J=S.getBoundingClientRect().height;S.style.height=G,Ts(J),x(se=>se.find(q=>q.toastId===l.id)?se.map(q=>q.toastId===l.id?{...q,height:J}:q):[{toastId:l.id,height:J,position:l.position},...se])},[C,l.title,l.description,x,l.id,l.jsx,l.action,l.cancel]);const Te=g.useCallback(()=>{Q(!0),Wt(Je.current),x(S=>S.filter(G=>G.toastId!==l.id)),setTimeout(()=>{f(l)},Ma)},[l,f,x,Je]);g.useEffect(()=>{if(l.promise&&te==="loading"||l.duration===1/0||l.type==="loading")return;let S;return y||b||Ms?(()=>{if(As.current<Gt.current){const se=new Date().getTime()-Gt.current;at.current=at.current-se}As.current=new Date().getTime()})():(()=>{at.current!==1/0&&(Gt.current=new Date().getTime(),S=setTimeout(()=>{l.onAutoClose==null||l.onAutoClose.call(l,l),Te()},at.current))})(),()=>clearTimeout(S)},[y,b,l,te,Ms,Te]),g.useEffect(()=>{l.delete&&(Te(),l.onDismiss==null||l.onDismiss.call(l,l))},[Te,l.delete]);function Fn(){var S;if(L?.loading){var G;return g.createElement("div",{className:fe(k?.loader,l==null||(G=l.classNames)==null?void 0:G.loader,"sonner-loader"),"data-visible":te==="loading"},L.loading)}return g.createElement(pa,{className:fe(k?.loader,l==null||(S=l.classNames)==null?void 0:S.loader),visible:te==="loading"})}const Bn=l.icon||L?.[te]||ma(te);var Ds,Os;return g.createElement("li",{tabIndex:0,ref:ye,className:fe(M,Rn,k?.toast,l==null||(e=l.classNames)==null?void 0:e.toast,k?.default,k?.[te],l==null||(t=l.classNames)==null?void 0:t[te]),"data-sonner-toast":"","data-rich-colors":(Ds=l.richColors)!=null?Ds:I,"data-styled":!(l.jsx||l.unstyled||m),"data-mounted":C,"data-promise":!!l.promise,"data-swiped":D,"data-removed":$,"data-visible":An,"data-y-position":On,"data-x-position":Ln,"data-index":v,"data-front":Pn,"data-swiping":me,"data-dismissible":Ye,"data-type":te,"data-invert":Un,"data-swipe-out":ke,"data-swipe-direction":he,"data-expanded":!!(y||W&&C),"data-testid":l.testId,style:{"--index":v,"--toasts-before":v,"--z-index":w.length-v,"--offset":`${$?Vt:Je.current}px`,"--initial-height":W?"auto":`${Cn}px`,...T,...l.style},onDragEnd:()=>{U(!1),ee(null),Xe.current=null},onPointerDown:S=>{S.button!==2&&(qt||!Ye||(Cs.current=new Date,Wt(Je.current),S.target.setPointerCapture(S.pointerId),S.target.tagName!=="BUTTON"&&(U(!0),Xe.current={x:S.clientX,y:S.clientY})))},onPointerUp:()=>{var S,G,J;if(ke||!Ye)return;Xe.current=null;const se=Number(((S=ye.current)==null?void 0:S.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),yt=Number(((G=ye.current)==null?void 0:G.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),q=new Date().getTime()-((J=Cs.current)==null?void 0:J.getTime()),re=be==="x"?se:yt,xt=Math.abs(re)/q;if(Math.abs(re)>=Ra||xt>.11){Wt(Je.current),l.onDismiss==null||l.onDismiss.call(l,l),$e(be==="x"?se>0?"right":"left":yt>0?"down":"up"),Te(),R(!0);return}else{var ae,ie;(ae=ye.current)==null||ae.style.setProperty("--swipe-amount-x","0px"),(ie=ye.current)==null||ie.style.setProperty("--swipe-amount-y","0px")}je(!1),U(!1),ee(null)},onPointerMove:S=>{var G,J,se;if(!Xe.current||!Ye||((G=window.getSelection())==null?void 0:G.toString().length)>0)return;const q=S.clientY-Xe.current.y,re=S.clientX-Xe.current.x;var xt;const ae=(xt=s.swipeDirections)!=null?xt:Da(z);!be&&(Math.abs(re)>1||Math.abs(q)>1)&&ee(Math.abs(re)>Math.abs(q)?"x":"y");let ie={x:0,y:0};const Ls=He=>1/(1.5+Math.abs(He)/20);if(be==="y"){if(ae.includes("top")||ae.includes("bottom"))if(ae.includes("top")&&q<0||ae.includes("bottom")&&q>0)ie.y=q;else{const He=q*Ls(q);ie.y=Math.abs(He)<Math.abs(q)?He:q}}else if(be==="x"&&(ae.includes("left")||ae.includes("right")))if(ae.includes("left")&&re<0||ae.includes("right")&&re>0)ie.x=re;else{const He=re*Ls(re);ie.x=Math.abs(He)<Math.abs(re)?He:re}(Math.abs(ie.x)>0||Math.abs(ie.y)>0)&&je(!0),(J=ye.current)==null||J.style.setProperty("--swipe-amount-x",`${ie.x}px`),(se=ye.current)==null||se.style.setProperty("--swipe-amount-y",`${ie.y}px`)}},Dn&&!l.jsx&&te!=="loading"?g.createElement("button",{"aria-label":ue,"data-disabled":qt,"data-close-button":!0,onClick:qt||!Ye?()=>{}:()=>{Te(),l.onDismiss==null||l.onDismiss.call(l,l)},className:fe(k?.closeButton,l==null||(r=l.classNames)==null?void 0:r.closeButton)},(Os=L?.close)!=null?Os:va):null,(te||l.icon||l.promise)&&l.icon!==null&&(L?.[te]!==null||l.icon)?g.createElement("div",{"data-icon":"",className:fe(k?.icon,l==null||(a=l.classNames)==null?void 0:a.icon)},l.promise||l.type==="loading"&&!l.icon?l.icon||Fn():null,l.type!=="loading"?Bn:null):null,g.createElement("div",{"data-content":"",className:fe(k?.content,l==null||(i=l.classNames)==null?void 0:i.content)},g.createElement("div",{"data-title":"",className:fe(k?.title,l==null||(o=l.classNames)==null?void 0:o.title)},l.jsx?l.jsx:typeof l.title=="function"?l.title():l.title),l.description?g.createElement("div",{"data-description":"",className:fe(K,Mn,k?.description,l==null||(d=l.classNames)==null?void 0:d.description)},typeof l.description=="function"?l.description():l.description):null),g.isValidElement(l.cancel)?l.cancel:l.cancel&&wt(l.cancel)?g.createElement("button",{"data-button":!0,"data-cancel":!0,style:l.cancelButtonStyle||N,onClick:S=>{wt(l.cancel)&&Ye&&(l.cancel.onClick==null||l.cancel.onClick.call(l.cancel,S),Te())},className:fe(k?.cancelButton,l==null||(c=l.classNames)==null?void 0:c.cancelButton)},l.cancel.label):null,g.isValidElement(l.action)?l.action:l.action&&wt(l.action)?g.createElement("button",{"data-button":!0,"data-action":!0,style:l.actionButtonStyle||A,onClick:S=>{wt(l.action)&&(l.action.onClick==null||l.action.onClick.call(l.action,S),!S.defaultPrevented&&Te())},className:fe(k?.actionButton,l==null||(u=l.classNames)==null?void 0:u.actionButton)},l.action.label):null)};function Js(){if(typeof window>"u"||typeof document>"u")return"ltr";const s=document.documentElement.getAttribute("dir");return s==="auto"||!s?window.getComputedStyle(document.documentElement).direction:s}function La(s,e){const t={};return[s,e].forEach((r,a)=>{const i=a===1,o=i?"--mobile-offset":"--offset",d=i?Ca:Ta;function c(u){["top","right","bottom","left"].forEach(h=>{t[`${o}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?t[`${o}-${u}`]=d:t[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(d)}),t}const Ua=g.forwardRef(function(e,t){const{id:r,invert:a,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:d,closeButton:c,className:u,offset:h,mobileOffset:l,theme:m="light",richColors:b,duration:x,style:E,visibleToasts:H=ja,toastOptions:v,dir:w=Js(),gap:y=Aa,icons:f,containerAriaLabel:I="Notifications"}=e,[P,T]=g.useState([]),N=g.useMemo(()=>r?P.filter(C=>C.toasterId===r):P.filter(C=>!C.toasterId),[P,r]),A=g.useMemo(()=>Array.from(new Set([i].concat(N.filter(C=>C.position).map(C=>C.position)))),[N,i]),[M,K]=g.useState([]),[Y,z]=g.useState(!1),[de,W]=g.useState(!1),[k,L]=g.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ue=g.useRef(null),be=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),ee=g.useRef(null),he=g.useRef(!1),$e=g.useCallback(C=>{T(B=>{var $;return($=B.find(Q=>Q.id===C.id))!=null&&$.delete||Z.dismiss(C.id),B.filter(({id:Q})=>Q!==C.id)})},[]);return g.useEffect(()=>Z.subscribe(C=>{if(C.dismiss){requestAnimationFrame(()=>{T(B=>B.map($=>$.id===C.id?{...$,delete:!0}:$))});return}setTimeout(()=>{ua.flushSync(()=>{T(B=>{const $=B.findIndex(Q=>Q.id===C.id);return $!==-1?[...B.slice(0,$),{...B[$],...C},...B.slice($+1)]:[C,...B]})})})}),[P]),g.useEffect(()=>{if(m!=="system"){L(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;const C=window.matchMedia("(prefers-color-scheme: dark)");try{C.addEventListener("change",({matches:B})=>{L(B?"dark":"light")})}catch{C.addListener(({matches:$})=>{try{L($?"dark":"light")}catch(Q){console.error(Q)}})}},[m]),g.useEffect(()=>{P.length<=1&&z(!1)},[P]),g.useEffect(()=>{const C=B=>{var $;if(o.every(U=>B[U]||B.code===U)){var me;z(!0),(me=ue.current)==null||me.focus()}B.code==="Escape"&&(document.activeElement===ue.current||($=ue.current)!=null&&$.contains(document.activeElement))&&z(!1)};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[o]),g.useEffect(()=>{if(ue.current)return()=>{ee.current&&(ee.current.focus({preventScroll:!0}),ee.current=null,he.current=!1)}},[ue.current]),g.createElement("section",{ref:t,"aria-label":`${I} ${be}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((C,B)=>{var $;const[Q,me]=C.split("-");return N.length?g.createElement("ol",{key:C,dir:w==="auto"?Js():w,tabIndex:-1,ref:ue,className:u,"data-sonner-toaster":!0,"data-sonner-theme":k,"data-y-position":Q,"data-x-position":me,style:{"--front-toast-height":`${(($=M[0])==null?void 0:$.height)||0}px`,"--width":`${Pa}px`,"--gap":`${y}px`,...E,...La(h,l)},onBlur:U=>{he.current&&!U.currentTarget.contains(U.relatedTarget)&&(he.current=!1,ee.current&&(ee.current.focus({preventScroll:!0}),ee.current=null))},onFocus:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||he.current||(he.current=!0,ee.current=U.relatedTarget)},onMouseEnter:()=>z(!0),onMouseMove:()=>z(!0),onMouseLeave:()=>{de||z(!1)},onDragEnd:()=>z(!1),onPointerDown:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},N.filter(U=>!U.position&&B===0||U.position===C).map((U,ke)=>{var R,D;return g.createElement(Oa,{key:U.id,icons:f,index:ke,toast:U,defaultRichColors:b,duration:(R=v?.duration)!=null?R:x,className:v?.className,descriptionClassName:v?.descriptionClassName,invert:a,visibleToasts:H,closeButton:(D=v?.closeButton)!=null?D:c,interacting:de,position:C,style:v?.style,unstyled:v?.unstyled,classNames:v?.classNames,cancelButtonStyle:v?.cancelButtonStyle,actionButtonStyle:v?.actionButtonStyle,closeButtonAriaLabel:v?.closeButtonAriaLabel,removeToast:$e,toasts:N.filter(je=>je.position==U.position),heights:M.filter(je=>je.position==U.position),setHeights:K,expandByDefault:d,gap:y,expanded:Y,swipeDirections:e.swipeDirections})})):null}))});var Xs={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=function(s){const e=[];let t=0;for(let r=0;r<s.length;r++){let a=s.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(s.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},Fa=function(s){const e=[];let t=0,r=0;for(;t<s.length;){const a=s[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const i=s[t++];e[r++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=s[t++],o=s[t++],d=s[t++],c=((a&7)<<18|(i&63)<<12|(o&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=s[t++],o=s[t++];e[r++]=String.fromCharCode((a&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Ar={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<s.length;a+=3){const i=s[a],o=a+1<s.length,d=o?s[a+1]:0,c=a+2<s.length,u=c?s[a+2]:0,h=i>>2,l=(i&3)<<4|d>>4;let m=(d&15)<<2|u>>6,b=u&63;c||(b=64,o||(m=64)),r.push(t[h],t[l],t[m],t[b])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Pr(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Fa(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<s.length;){const i=t[s.charAt(a++)],d=a<s.length?t[s.charAt(a)]:0;++a;const u=a<s.length?t[s.charAt(a)]:64;++a;const l=a<s.length?t[s.charAt(a)]:64;if(++a,i==null||d==null||u==null||l==null)throw new Ba;const m=i<<2|d>>4;if(r.push(m),u!==64){const b=d<<4&240|u>>2;if(r.push(b),l!==64){const x=u<<6&192|l;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Ba extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $a=function(s){const e=Pr(s);return Ar.encodeByteArray(e,!0)},Rr=function(s){return $a(s).replace(/\./g,"")},Mr=function(s){try{return Ar.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=()=>Ha().__FIREBASE_DEFAULTS__,Va=()=>{if(typeof process>"u"||typeof Xs>"u")return;const s=Xs.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Wa=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Mr(s[1]);return e&&JSON.parse(e)},gs=()=>{try{return za()||Va()||Wa()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Ga=s=>{var e,t;return(t=(e=gs())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[s]},Dr=()=>{var s;return(s=gs())===null||s===void 0?void 0:s.config},Or=s=>{var e;return(e=gs())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ka(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(X())}function Ya(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ja(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Xa(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qa(){const s=X();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Za(){try{return typeof indexedDB=="object"}catch{return!1}}function ei(){return new Promise((s,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),s(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var i;e(((i=a.error)===null||i===void 0?void 0:i.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="FirebaseError";class Fe extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=ti,Object.setPrototypeOf(this,Fe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ut.prototype.create)}}class ut{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,i=this.errors[e],o=i?si(i,r):"Error",d=`${this.serviceName}: ${o} (${a}).`;return new Fe(a,d,r)}}function si(s,e){return s.replace(ri,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const ri=/\{\$([^}]+)}/g;function ni(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Pt(s,e){if(s===e)return!0;const t=Object.keys(s),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const i=s[a],o=e[a];if(Qs(i)&&Qs(o)){if(!Pt(i,o))return!1}else if(i!==o)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function Qs(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(s){const e=[];for(const[t,r]of Object.entries(s))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ai(s,e){const t=new ii(s,e);return t.subscribe.bind(t)}class ii{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");oi(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Yt),a.error===void 0&&(a.error=Yt),a.complete===void 0&&(a.complete=Yt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oi(s,e){if(typeof s!="object"||s===null)return!1;for(const t of e)if(t in s&&typeof s[t]=="function")return!0;return!1}function Yt(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(s){return s&&s._delegate?s._delegate:s}class rt{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ze="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new qa;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),a=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(di(e))try{this.getOrInitializeService({instanceIdentifier:ze})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:a});r.resolve(i)}catch{}}}}clearInstance(e=ze){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ze){return this.instances.has(e)}getOptions(e=ze){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,o]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(i);r===d&&o.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),i=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(a,i);const o=this.instances.get(a);return o&&e(o,a),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ci(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ze){return this.component?this.component.multipleInstances?e:ze:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ci(s){return s===ze?void 0:s}function di(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new li(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(O||(O={}));const hi={debug:O.DEBUG,verbose:O.VERBOSE,info:O.INFO,warn:O.WARN,error:O.ERROR,silent:O.SILENT},mi=O.INFO,fi={[O.DEBUG]:"log",[O.VERBOSE]:"log",[O.INFO]:"info",[O.WARN]:"warn",[O.ERROR]:"error"},pi=(s,e,...t)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),a=fi[e];if(a)console[a](`[${r}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lr{constructor(e){this.name=e,this._logLevel=mi,this._logHandler=pi,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in O))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hi[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,O.DEBUG,...e),this._logHandler(this,O.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,O.VERBOSE,...e),this._logHandler(this,O.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,O.INFO,...e),this._logHandler(this,O.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,O.WARN,...e),this._logHandler(this,O.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,O.ERROR,...e),this._logHandler(this,O.ERROR,...e)}}const gi=(s,e)=>e.some(t=>s instanceof t);let Zs,er;function bi(){return Zs||(Zs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yi(){return er||(er=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ur=new WeakMap,is=new WeakMap,Fr=new WeakMap,Jt=new WeakMap,bs=new WeakMap;function xi(s){const e=new Promise((t,r)=>{const a=()=>{s.removeEventListener("success",i),s.removeEventListener("error",o)},i=()=>{t(Oe(s.result)),a()},o=()=>{r(s.error),a()};s.addEventListener("success",i),s.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Ur.set(t,s)}).catch(()=>{}),bs.set(e,s),e}function vi(s){if(is.has(s))return;const e=new Promise((t,r)=>{const a=()=>{s.removeEventListener("complete",i),s.removeEventListener("error",o),s.removeEventListener("abort",o)},i=()=>{t(),a()},o=()=>{r(s.error||new DOMException("AbortError","AbortError")),a()};s.addEventListener("complete",i),s.addEventListener("error",o),s.addEventListener("abort",o)});is.set(s,e)}let os={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return is.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Fr.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Oe(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function wi(s){os=s(os)}function _i(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=s.call(Xt(this),e,...t);return Fr.set(r,e.sort?e.sort():[e]),Oe(r)}:yi().includes(s)?function(...e){return s.apply(Xt(this),e),Oe(Ur.get(this))}:function(...e){return Oe(s.apply(Xt(this),e))}}function Ii(s){return typeof s=="function"?_i(s):(s instanceof IDBTransaction&&vi(s),gi(s,bi())?new Proxy(s,os):s)}function Oe(s){if(s instanceof IDBRequest)return xi(s);if(Jt.has(s))return Jt.get(s);const e=Ii(s);return e!==s&&(Jt.set(s,e),bs.set(e,s)),e}const Xt=s=>bs.get(s);function Ni(s,e,{blocked:t,upgrade:r,blocking:a,terminated:i}={}){const o=indexedDB.open(s,e),d=Oe(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Oe(o.result),c.oldVersion,c.newVersion,Oe(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),d.then(c=>{i&&c.addEventListener("close",()=>i()),a&&c.addEventListener("versionchange",u=>a(u.oldVersion,u.newVersion,u))}).catch(()=>{}),d}const Si=["get","getKey","getAll","getAllKeys","count"],Ei=["put","add","delete","clear"],Qt=new Map;function tr(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Qt.get(e))return Qt.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=Ei.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||Si.includes(t)))return;const i=async function(o,...d){const c=this.transaction(o,a?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(d.shift())),(await Promise.all([u[t](...d),a&&c.done]))[0]};return Qt.set(e,i),i}wi(s=>({...s,get:(e,t,r)=>tr(e,t)||s.get(e,t,r),has:(e,t)=>!!tr(e,t)||s.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ji(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function ji(s){const e=s.getComponent();return e?.type==="VERSION"}const ls="@firebase/app",sr="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ne=new Lr("@firebase/app"),Ti="@firebase/app-compat",Ci="@firebase/analytics-compat",Pi="@firebase/analytics",Ai="@firebase/app-check-compat",Ri="@firebase/app-check",Mi="@firebase/auth",Di="@firebase/auth-compat",Oi="@firebase/database",Li="@firebase/data-connect",Ui="@firebase/database-compat",Fi="@firebase/functions",Bi="@firebase/functions-compat",$i="@firebase/installations",Hi="@firebase/installations-compat",zi="@firebase/messaging",Vi="@firebase/messaging-compat",Wi="@firebase/performance",Gi="@firebase/performance-compat",qi="@firebase/remote-config",Ki="@firebase/remote-config-compat",Yi="@firebase/storage",Ji="@firebase/storage-compat",Xi="@firebase/firestore",Qi="@firebase/vertexai-preview",Zi="@firebase/firestore-compat",eo="firebase",to="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="[DEFAULT]",so={[ls]:"fire-core",[Ti]:"fire-core-compat",[Pi]:"fire-analytics",[Ci]:"fire-analytics-compat",[Ri]:"fire-app-check",[Ai]:"fire-app-check-compat",[Mi]:"fire-auth",[Di]:"fire-auth-compat",[Oi]:"fire-rtdb",[Li]:"fire-data-connect",[Ui]:"fire-rtdb-compat",[Fi]:"fire-fn",[Bi]:"fire-fn-compat",[$i]:"fire-iid",[Hi]:"fire-iid-compat",[zi]:"fire-fcm",[Vi]:"fire-fcm-compat",[Wi]:"fire-perf",[Gi]:"fire-perf-compat",[qi]:"fire-rc",[Ki]:"fire-rc-compat",[Yi]:"fire-gcs",[Ji]:"fire-gcs-compat",[Xi]:"fire-fst",[Zi]:"fire-fst-compat",[Qi]:"fire-vertex","fire-js":"fire-js",[eo]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At=new Map,ro=new Map,ds=new Map;function rr(s,e){try{s.container.addComponent(e)}catch(t){Ne.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,t)}}function lt(s){const e=s.name;if(ds.has(e))return Ne.debug(`There were multiple attempts to register component ${e}.`),!1;ds.set(e,s);for(const t of At.values())rr(t,s);for(const t of ro.values())rr(t,s);return!0}function Br(s,e){const t=s.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),s.container.getProvider(e)}function oe(s){return s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Le=new ut("app","Firebase",no);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Le.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt=to;function $r(s,e={}){let t=s;typeof e!="object"&&(e={name:e});const r=Object.assign({name:cs,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw Le.create("bad-app-name",{appName:String(a)});if(t||(t=Dr()),!t)throw Le.create("no-options");const i=At.get(a);if(i){if(Pt(t,i.options)&&Pt(r,i.config))return i;throw Le.create("duplicate-app",{appName:a})}const o=new ui(a);for(const c of ds.values())o.addComponent(c);const d=new ao(t,r,o);return At.set(a,d),d}function io(s=cs){const e=At.get(s);if(!e&&s===cs&&Dr())return $r();if(!e)throw Le.create("no-app",{appName:s});return e}function Ze(s,e,t){var r;let a=(r=so[s])!==null&&r!==void 0?r:s;t&&(a+=`-${t}`);const i=a.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const d=[`Unable to register library "${a}" with version "${e}":`];i&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&o&&d.push("and"),o&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ne.warn(d.join(" "));return}lt(new rt(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo="firebase-heartbeat-database",lo=1,ct="firebase-heartbeat-store";let Zt=null;function Hr(){return Zt||(Zt=Ni(oo,lo,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ct)}catch(t){console.warn(t)}}}}).catch(s=>{throw Le.create("idb-open",{originalErrorMessage:s.message})})),Zt}async function co(s){try{const t=(await Hr()).transaction(ct),r=await t.objectStore(ct).get(zr(s));return await t.done,r}catch(e){if(e instanceof Fe)Ne.warn(e.message);else{const t=Le.create("idb-get",{originalErrorMessage:e?.message});Ne.warn(t.message)}}}async function nr(s,e){try{const r=(await Hr()).transaction(ct,"readwrite");await r.objectStore(ct).put(e,zr(s)),await r.done}catch(t){if(t instanceof Fe)Ne.warn(t.message);else{const r=Le.create("idb-set",{originalErrorMessage:t?.message});Ne.warn(r.message)}}}function zr(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=1024,ho=720*60*60*1e3;class mo{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new po(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ar();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const d=new Date(o.date).valueOf();return Date.now()-d<=ho}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ne.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ar(),{heartbeatsToSend:r,unsentEntries:a}=fo(this._heartbeatsCache.heartbeats),i=Rr(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Ne.warn(t),""}}}function ar(){return new Date().toISOString().substring(0,10)}function fo(s,e=uo){const t=[];let r=s.slice();for(const a of s){const i=t.find(o=>o.agent===a.agent);if(i){if(i.dates.push(a.date),ir(t)>e){i.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),ir(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class po{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Za()?ei().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await co(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return nr(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return nr(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function ir(s){return Rr(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(s){lt(new rt("platform-logger",e=>new ki(e),"PRIVATE")),lt(new rt("heartbeat",e=>new mo(e),"PRIVATE")),Ze(ls,sr,s),Ze(ls,sr,"esm2017"),Ze("fire-js","")}go("");var bo="firebase",yo="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ze(bo,yo,"app");function ys(s,e){var t={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(s);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(s,r[a])&&(t[r[a]]=s[r[a]]);return t}function Vr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xo=Vr,Wr=new ut("auth","Firebase",Vr());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt=new Lr("@firebase/auth");function vo(s,...e){Rt.logLevel<=O.WARN&&Rt.warn(`Auth (${mt}): ${s}`,...e)}function It(s,...e){Rt.logLevel<=O.ERROR&&Rt.error(`Auth (${mt}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(s,...e){throw vs(s,...e)}function le(s,...e){return vs(s,...e)}function xs(s,e,t){const r=Object.assign(Object.assign({},xo()),{[e]:t});return new ut("auth","Firebase",r).create(e,{appName:s.name})}function Ie(s){return xs(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gr(s,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&ge(s,"argument-error"),xs(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vs(s,...e){if(typeof s!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(t,...r)}return Wr.create(s,...e)}function _(s,e,...t){if(!s)throw vs(e,...t)}function ve(s){const e="INTERNAL ASSERTION FAILED: "+s;throw It(e),new Error(e)}function Se(s,e){s||ve(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function wo(){return or()==="http:"||or()==="https:"}function or(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wo()||Ja()||"connection"in navigator)?navigator.onLine:!0}function Io(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,t){this.shortDelay=e,this.longDelay=t,Se(t>e,"Short delay should be less than long delay!"),this.isMobile=Ka()||Xa()}get(){return _o()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(s,e){Se(s.emulator,"Emulator should always be set here");const{url:t}=s.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=new ft(3e4,6e4);function nt(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function Be(s,e,t,r,a={}){return Kr(s,a,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const d=ht(Object.assign({key:s.config.apiKey},o)).slice(1),c=await s._getAdditionalHeaders();c["Content-Type"]="application/json",s.languageCode&&(c["X-Firebase-Locale"]=s.languageCode);const u=Object.assign({method:e,headers:c},i);return Ya()||(u.referrerPolicy="no-referrer"),qr.fetch()(Jr(s,s.config.apiHost,t,d),u)})}async function Kr(s,e,t){s._canInitEmulator=!1;const r=Object.assign(Object.assign({},No),e);try{const a=new ko(s),i=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw _t(s,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const d=i.ok?o.errorMessage:o.error.message,[c,u]=d.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw _t(s,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw _t(s,"email-already-in-use",o);if(c==="USER_DISABLED")throw _t(s,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw xs(s,h,u);ge(s,h)}}catch(a){if(a instanceof Fe)throw a;ge(s,"network-request-failed",{message:String(a)})}}async function Yr(s,e,t,r,a={}){const i=await Be(s,e,t,r,a);return"mfaPendingCredential"in i&&ge(s,"multi-factor-auth-required",{_serverResponse:i}),i}function Jr(s,e,t,r){const a=`${e}${t}?${r}`;return s.config.emulator?ws(s.config,a):`${s.config.apiScheme}://${a}`}function Eo(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ko{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(le(this.auth,"network-request-failed")),So.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _t(s,e,t){const r={appName:s.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=le(s,e,r);return a.customData._tokenResponse=t,a}function lr(s){return s!==void 0&&s.enterprise!==void 0}class jo{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Eo(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function To(s,e){return Be(s,"GET","/v2/recaptchaConfig",nt(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(s,e){return Be(s,"POST","/v1/accounts:delete",e)}async function Xr(s,e){return Be(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Po(s,e=!1){const t=Ke(s),r=await t.getIdToken(e),a=_s(r);_(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const i=typeof a.firebase=="object"?a.firebase:void 0,o=i?.sign_in_provider;return{claims:a,token:r,authTime:ot(es(a.auth_time)),issuedAtTime:ot(es(a.iat)),expirationTime:ot(es(a.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function es(s){return Number(s)*1e3}function _s(s){const[e,t,r]=s.split(".");if(e===void 0||t===void 0||r===void 0)return It("JWT malformed, contained fewer than 3 sections"),null;try{const a=Mr(t);return a?JSON.parse(a):(It("Failed to decode base64 JWT payload"),null)}catch(a){return It("Caught error parsing JWT payload as JSON",a?.toString()),null}}function cr(s){const e=_s(s);return _(e,"internal-error"),_(typeof e.exp<"u","internal-error"),_(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dt(s,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Fe&&Ao(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Ao({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ot(this.lastLoginAt),this.creationTime=ot(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mt(s){var e;const t=s.auth,r=await s.getIdToken(),a=await dt(s,Xr(t,{idToken:r}));_(a?.users.length,t,"internal-error");const i=a.users[0];s._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Qr(i.providerUserInfo):[],d=Do(s.providerData,o),c=s.isAnonymous,u=!(s.email&&i.passwordHash)&&!d?.length,h=c?u:!1,l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:d,metadata:new hs(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(s,l)}async function Mo(s){const e=Ke(s);await Mt(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Do(s,e){return[...s.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function Qr(s){return s.map(e=>{var{providerId:t}=e,r=ys(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(s,e){const t=await Kr(s,{},async()=>{const r=ht({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:i}=s.config,o=Jr(s,a,"/v1/token",`key=${i}`),d=await s._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",qr.fetch()(o,{method:"POST",headers:d,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Lo(s,e){return Be(s,"POST","/v2/accounts:revokeToken",nt(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_(e.idToken,"internal-error"),_(typeof e.idToken<"u","internal-error"),_(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_(e.length!==0,"internal-error");const t=cr(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(_(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:i}=await Oo(e,t);this.updateTokensAndExpiration(r,a,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:i}=t,o=new et;return r&&(_(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),a&&(_(typeof a=="string","internal-error",{appName:e}),o.accessToken=a),i&&(_(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new et,this.toJSON())}_performRefresh(){return ve("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(s,e){_(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class we{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,i=ys(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ro(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new hs(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await dt(this,this.stsTokenManager.getToken(this.auth,e));return _(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Po(this,e)}reload(){return Mo(this)}_assign(e){this!==e&&(_(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new we(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Mt(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oe(this.auth.app))return Promise.reject(Ie(this.auth));const e=await this.getIdToken();return await dt(this,Co(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,i,o,d,c,u,h;const l=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(a=t.email)!==null&&a!==void 0?a:void 0,b=(i=t.phoneNumber)!==null&&i!==void 0?i:void 0,x=(o=t.photoURL)!==null&&o!==void 0?o:void 0,E=(d=t.tenantId)!==null&&d!==void 0?d:void 0,H=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,v=(u=t.createdAt)!==null&&u!==void 0?u:void 0,w=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:y,emailVerified:f,isAnonymous:I,providerData:P,stsTokenManager:T}=t;_(y&&T,e,"internal-error");const N=et.fromJSON(this.name,T);_(typeof y=="string",e,"internal-error"),Ce(l,e.name),Ce(m,e.name),_(typeof f=="boolean",e,"internal-error"),_(typeof I=="boolean",e,"internal-error"),Ce(b,e.name),Ce(x,e.name),Ce(E,e.name),Ce(H,e.name),Ce(v,e.name),Ce(w,e.name);const A=new we({uid:y,auth:e,email:m,emailVerified:f,displayName:l,isAnonymous:I,photoURL:x,phoneNumber:b,tenantId:E,stsTokenManager:N,createdAt:v,lastLoginAt:w});return P&&Array.isArray(P)&&(A.providerData=P.map(M=>Object.assign({},M))),H&&(A._redirectEventId=H),A}static async _fromIdTokenResponse(e,t,r=!1){const a=new et;a.updateFromServerResponse(t);const i=new we({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Mt(i),i}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];_(a.localId!==void 0,"internal-error");const i=a.providerUserInfo!==void 0?Qr(a.providerUserInfo):[],o=!(a.email&&a.passwordHash)&&!i?.length,d=new et;d.updateFromIdToken(r);const c=new we({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:o}),u={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new hs(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!i?.length};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new Map;function _e(s){Se(s instanceof Function,"Expected a class definition");let e=dr.get(s);return e?(Se(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,dr.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Zr.type="NONE";const ur=Zr;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(s,e,t){return`firebase:${s}:${e}:${t}`}class tt{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:i}=this.auth;this.fullUserKey=Nt(this.userKey,a.apiKey,i),this.fullPersistenceKey=Nt("persistence",a.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?we._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new tt(_e(ur),e,r);const a=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=a[0]||_e(ur);const o=Nt(r,e.config.apiKey,e.name);let d=null;for(const u of t)try{const h=await u._get(o);if(h){const l=we._fromJSON(e,h);u!==i&&(d=l),i=u;break}}catch{}const c=a.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new tt(i,e,r):(i=c[0],d&&await i._set(o,d.toJSON()),await Promise.all(t.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new tt(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rn(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(en(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(an(e))return"Blackberry";if(on(e))return"Webos";if(tn(e))return"Safari";if((e.includes("chrome/")||sn(e))&&!e.includes("edge/"))return"Chrome";if(nn(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(t);if(r?.length===2)return r[1]}return"Other"}function en(s=X()){return/firefox\//i.test(s)}function tn(s=X()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sn(s=X()){return/crios\//i.test(s)}function rn(s=X()){return/iemobile/i.test(s)}function nn(s=X()){return/android/i.test(s)}function an(s=X()){return/blackberry/i.test(s)}function on(s=X()){return/webos/i.test(s)}function Is(s=X()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Uo(s=X()){var e;return Is(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Fo(){return Qa()&&document.documentMode===10}function ln(s=X()){return Is(s)||nn(s)||on(s)||an(s)||/windows phone/i.test(s)||rn(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(s,e=[]){let t;switch(s){case"Browser":t=hr(X());break;case"Worker":t=`${hr(X())}-${s}`;break;default:t=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${mt}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((o,d)=>{try{const c=e(i);o(c)}catch(c){d(c)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(s,e={}){return Be(s,"GET","/v2/passwordPolicy",nt(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=6;class zo{constructor(e){var t,r,a,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:Ho,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,a,i,o,d;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(a=c.containsLowercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(d=c.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mr(this),this.idTokenSubscription=new mr(this),this.beforeStateQueue=new Bo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_e(t)),this._initializationPromise=this.queue(async()=>{var r,a;if(!this._deleted&&(this.persistenceManager=await tt.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Xr(this,{idToken:e}),r=await we._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(oe(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===d)&&c?.user&&(a=c.user,i=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(a)}catch(o){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Mt(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Io()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oe(this.app))return Promise.reject(Ie(this));const t=e?Ke(e):null;return t&&_(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&_(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oe(this.app)?Promise.reject(Ie(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oe(this.app)?Promise.reject(Ie(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_e(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $o(this),t=new zo(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ut("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Lo(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&_e(e)||this._popupRedirectResolver;_(t,this,"argument-error"),this.redirectPersistenceManager=await tt.create(this,[_e(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let o=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(_(d,this,"internal-error"),d.then(()=>{o||i(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,r,a);return()=>{o=!0,c()}}else{const c=e.addObserver(t);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&vo(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ee(s){return Ke(s)}class mr{constructor(e){this.auth=e,this.observer=null,this.addObserver=ai(t=>this.observer=t)}get next(){return _(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ft={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Wo(s){Ft=s}function dn(s){return Ft.loadJS(s)}function Go(){return Ft.recaptchaEnterpriseScript}function qo(){return Ft.gapiScript}function Ko(s){return`__${s}${Math.floor(Math.random()*1e6)}`}const Yo="recaptcha-enterprise",Jo="NO_RECAPTCHA";class Xo{constructor(e){this.type=Yo,this.auth=Ee(e)}async verify(e="verify",t=!1){async function r(i){if(!t){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,d)=>{To(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const u=new jo(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{d(c)})})}function a(i,o,d){const c=window.grecaptcha;lr(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(Jo)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(d=>{if(!t&&lr(window.grecaptcha))a(d,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Go();c.length!==0&&(c+=d),dn(c).then(()=>{a(d,i,o)}).catch(u=>{o(u)})}}).catch(d=>{o(d)})})}}async function fr(s,e,t,r=!1){const a=new Xo(s);let i;try{i=await a.verify(t)}catch{i=await a.verify(t,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Qo(s,e,t,r){var a;if(!((a=s._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await fr(s,e,t,t==="getOobCode");return r(s,i)}else return r(s,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await fr(s,e,t,t==="getOobCode");return r(s,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(s,e){const t=Br(s,"auth");if(t.isInitialized()){const a=t.getImmediate(),i=t.getOptions();if(Pt(i,e??{}))return a;ge(a,"already-initialized")}return t.initialize({options:e})}function el(s,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(_e);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function tl(s,e,t){const r=Ee(s);_(r._canInitEmulator,r,"emulator-config-failed"),_(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,i=un(e),{host:o,port:d}=sl(e),c=d===null?"":`:${d}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:d,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})}),rl()}function un(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function sl(s){const e=un(s),t=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const i=a[1];return{host:i,port:pr(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:pr(o)}}}function pr(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function rl(){function s(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ve("not implemented")}_getIdTokenResponse(e){return ve("not implemented")}_linkToIdToken(e,t){return ve("not implemented")}_getReauthenticationResolver(e){return ve("not implemented")}}async function nl(s,e){return Be(s,"POST","/v1/accounts:sendOobCode",nt(s,e))}async function al(s,e){return nl(s,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function st(s,e){return Yr(s,"POST","/v1/accounts:signInWithIdp",nt(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il="http://localhost";class Ge extends hn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ge(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ge("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=t,i=ys(t,["providerId","signInMethod"]);if(!r||!a)return null;const o=new Ge(r,a);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return st(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,st(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,st(e,t)}buildRequest(){const e={requestUri:il,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ht(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt extends Bt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re extends pt{constructor(){super("facebook.com")}static credential(e){return Ge._fromParams({providerId:Re.PROVIDER_ID,signInMethod:Re.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Re.credentialFromTaggedObject(e)}static credentialFromError(e){return Re.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Re.credential(e.oauthAccessToken)}catch{return null}}}Re.FACEBOOK_SIGN_IN_METHOD="facebook.com";Re.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe extends pt{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ge._fromParams({providerId:xe.PROVIDER_ID,signInMethod:xe.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xe.credentialFromTaggedObject(e)}static credentialFromError(e){return xe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return xe.credential(t,r)}catch{return null}}}xe.GOOGLE_SIGN_IN_METHOD="google.com";xe.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me extends pt{constructor(){super("github.com")}static credential(e){return Ge._fromParams({providerId:Me.PROVIDER_ID,signInMethod:Me.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Me.credentialFromTaggedObject(e)}static credentialFromError(e){return Me.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Me.credential(e.oauthAccessToken)}catch{return null}}}Me.GITHUB_SIGN_IN_METHOD="github.com";Me.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De extends pt{constructor(){super("twitter.com")}static credential(e,t){return Ge._fromParams({providerId:De.PROVIDER_ID,signInMethod:De.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return De.credentialFromTaggedObject(e)}static credentialFromError(e){return De.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return De.credential(t,r)}catch{return null}}}De.TWITTER_SIGN_IN_METHOD="twitter.com";De.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(s,e){return Yr(s,"POST","/v1/accounts:signUp",nt(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const i=await we._fromIdTokenResponse(e,r,a),o=gr(r);return new qe({user:i,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=gr(r);return new qe({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function gr(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt extends Fe{constructor(e,t,r,a){var i;super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Dt.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Dt(e,t,r,a)}}function mn(s,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(s):t._getIdTokenResponse(s)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Dt._fromErrorAndOperation(s,i,e,r):i})}async function ll(s,e,t=!1){const r=await dt(s,e._linkToIdToken(s.auth,await s.getIdToken()),t);return qe._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(s,e,t=!1){const{auth:r}=s;if(oe(r.app))return Promise.reject(Ie(r));const a="reauthenticate";try{const i=await dt(s,mn(r,a,e,s),t);_(i.idToken,r,"internal-error");const o=_s(i.idToken);_(o,r,"internal-error");const{sub:d}=o;return _(s.uid===d,r,"user-mismatch"),qe._forOperation(s,a,i)}catch(i){throw i?.code==="auth/user-not-found"&&ge(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(s,e,t=!1){if(oe(s.app))return Promise.reject(Ie(s));const r="signIn",a=await mn(s,r,e),i=await qe._fromIdTokenResponse(s,r,a);return t||await s._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(s){const e=Ee(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hl(s,e,t){if(oe(s.app))return Promise.reject(Ie(s));const r=Ee(s),o=await Qo(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ol).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&ul(s),c}),d=await qe._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(d.user),d}async function fn(s,e){const t=Ke(s),a={requestType:"VERIFY_EMAIL",idToken:await s.getIdToken()},{email:i}=await al(t.auth,a);i!==s.email&&await s.reload()}function ml(s,e,t,r){return Ke(s).onIdTokenChanged(e,t,r)}function fl(s,e,t){return Ke(s).beforeAuthStateChanged(e,t)}const Ot="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ot,"1"),this.storage.removeItem(Ot),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=1e3,gl=10;class gn extends pn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ln(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,d,c)=>{this.notifyListeners(o,c)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Fo()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,gl):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},pl)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}gn.type="LOCAL";const bl=gn;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn extends pn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bn.type="SESSION";const yn=bn;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new $t(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:i}=t.data,o=this.handlersMap[a];if(!o?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(o).map(async u=>u(t.origin,i)),c=await yl(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$t.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(s="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return s+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let i,o;return new Promise((d,c)=>{const u=Ns("",20);a.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:a,onMessage(l){const m=l;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),d(m.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),a.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[a.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(){return window}function vl(s){pe().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return typeof pe().WorkerGlobalScope<"u"&&typeof pe().importScripts=="function"}async function wl(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _l(){var s;return((s=navigator?.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function Il(){return xn()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="firebaseLocalStorageDb",Nl=1,Lt="firebaseLocalStorage",wn="fbase_key";class gt{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ht(s,e){return s.transaction([Lt],e?"readwrite":"readonly").objectStore(Lt)}function Sl(){const s=indexedDB.deleteDatabase(vn);return new gt(s).toPromise()}function ms(){const s=indexedDB.open(vn,Nl);return new Promise((e,t)=>{s.addEventListener("error",()=>{t(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Lt,{keyPath:wn})}catch(a){t(a)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Lt)?e(r):(r.close(),await Sl(),e(await ms()))})})}async function br(s,e,t){const r=Ht(s,!0).put({[wn]:e,value:t});return new gt(r).toPromise()}async function El(s,e){const t=Ht(s,!1).get(e),r=await new gt(t).toPromise();return r===void 0?null:r.value}function yr(s,e){const t=Ht(s,!0).delete(e);return new gt(t).toPromise()}const kl=800,jl=3;class _n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ms(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>jl)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xn()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$t._getInstance(Il()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await wl(),!this.activeServiceWorker)return;this.sender=new xl(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_l()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ms();return await br(e,Ot,"1"),await yr(e,Ot),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>br(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>El(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>yr(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const i=Ht(a,!1).getAll();return new gt(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:i}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(i)&&(this.notifyListeners(a,i),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kl)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_n.type="LOCAL";const Tl=_n;new ft(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(s,e){return e?_e(e):(_(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends hn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return st(e,this._buildIdpRequest())}_linkToIdToken(e,t){return st(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return st(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Cl(s){return dl(s.auth,new Es(s),s.bypassAuthState)}function Pl(s){const{auth:e,user:t}=s;return _(t,e,"internal-error"),cl(t,new Es(s),s.bypassAuthState)}async function Al(s){const{auth:e,user:t}=s;return _(t,e,"internal-error"),ll(t,new Es(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,t,r,a,i=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:i,error:o,type:d}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Cl;case"linkViaPopup":case"linkViaRedirect":return Al;case"reauthViaPopup":case"reauthViaRedirect":return Pl;default:ge(this.auth,"internal-error")}}resolve(e){Se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=new ft(2e3,1e4);async function Ml(s,e,t){if(oe(s.app))return Promise.reject(le(s,"operation-not-supported-in-this-environment"));const r=Ee(s);Gr(s,e,Bt);const a=Ss(r,t);return new Ve(r,"signInViaPopup",e,a).executeNotNull()}class Ve extends In{constructor(e,t,r,a,i){super(e,t,a,i),this.provider=r,this.authWindow=null,this.pollId=null,Ve.currentPopupAction&&Ve.currentPopupAction.cancel(),Ve.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _(e,this.auth,"internal-error"),e}async onExecution(){Se(this.filter.length===1,"Popup operations only handle one event");const e=Ns();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(le(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(le(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ve.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(le(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Rl.get())};e()}}Ve.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl="pendingRedirect",St=new Map;class Ol extends In{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=St.get(this.auth._key());if(!e){try{const r=await Ll(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}St.set(this.auth._key(),e)}return this.bypassAuthState||St.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ll(s,e){const t=Sn(e),r=Nn(s);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}async function Ul(s,e){return Nn(s)._set(Sn(e),"true")}function Fl(s,e){St.set(s._key(),e)}function Nn(s){return _e(s._redirectPersistence)}function Sn(s){return Nt(Dl,s.config.apiKey,s.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(s,e,t){return $l(s,e,t)}async function $l(s,e,t){if(oe(s.app))return Promise.reject(Ie(s));const r=Ee(s);Gr(s,e,Bt),await r._initializationPromise;const a=Ss(r,t);return await Ul(a,r),a._openRedirect(r,e,"signInViaRedirect")}async function Hl(s,e){return await Ee(s)._initializationPromise,En(s,e,!1)}async function En(s,e,t=!1){if(oe(s.app))return Promise.reject(Ie(s));const r=Ee(s),a=Ss(r,e),o=await new Ol(r,a,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=600*1e3;class Vl{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Wl(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!kn(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(le(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zl&&this.cachedEventUids.clear(),this.cachedEventUids.has(xr(e))}saveEventToCache(e){this.cachedEventUids.add(xr(e)),this.lastProcessedEventTime=Date.now()}}function xr(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function kn({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function Wl(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kn(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(s,e={}){return Be(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kl=/^https?/;async function Yl(s){if(s.config.emulator)return;const{authorizedDomains:e}=await Gl(s);for(const t of e)try{if(Jl(t))return}catch{}ge(s,"unauthorized-domain")}function Jl(s){const e=us(),{protocol:t,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const o=new URL(s);return o.hostname===""&&r===""?t==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!Kl.test(t))return!1;if(ql.test(s))return r===s;const a=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=new ft(3e4,6e4);function vr(){const s=pe().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let t=0;t<s.CP.length;t++)s.CP[t]=null}}function Ql(s){return new Promise((e,t)=>{var r,a,i;function o(){vr(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vr(),t(le(s,"network-request-failed"))},timeout:Xl.get()})}if(!((a=(r=pe().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((i=pe().gapi)===null||i===void 0)&&i.load)o();else{const d=Ko("iframefcb");return pe()[d]=()=>{gapi.load?o():t(le(s,"network-request-failed"))},dn(`${qo()}?onload=${d}`).catch(c=>t(c))}}).catch(e=>{throw Et=null,e})}let Et=null;function Zl(s){return Et=Et||Ql(s),Et}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=new ft(5e3,15e3),tc="__/auth/iframe",sc="emulator/auth/iframe",rc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ac(s){const e=s.config;_(e.authDomain,s,"auth-domain-config-required");const t=e.emulator?ws(e,sc):`https://${s.config.authDomain}/${tc}`,r={apiKey:e.apiKey,appName:s.name,v:mt},a=nc.get(s.config.apiHost);a&&(r.eid=a);const i=s._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${ht(r).slice(1)}`}async function ic(s){const e=await Zl(s),t=pe().gapi;return _(t,s,"internal-error"),e.open({where:document.body,url:ac(s),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rc,dontclear:!0},r=>new Promise(async(a,i)=>{await r.restyle({setHideOnLeave:!1});const o=le(s,"network-request-failed"),d=pe().setTimeout(()=>{i(o)},ec.get());function c(){pe().clearTimeout(d),a(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lc=500,cc=600,dc="_blank",uc="http://localhost";class wr{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hc(s,e,t,r=lc,a=cc){const i=Math.max((window.screen.availHeight-a)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const c=Object.assign(Object.assign({},oc),{width:r.toString(),height:a.toString(),top:i,left:o}),u=X().toLowerCase();t&&(d=sn(u)?dc:t),en(u)&&(e=e||uc,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[b,x])=>`${m}${b}=${x},`,"");if(Uo(u)&&d!=="_self")return mc(e||"",d),new wr(null);const l=window.open(e||"",d,h);_(l,s,"popup-blocked");try{l.focus()}catch{}return new wr(l)}function mc(s,e){const t=document.createElement("a");t.href=s,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc="__/auth/handler",pc="emulator/auth/handler",gc=encodeURIComponent("fac");async function _r(s,e,t,r,a,i){_(s.config.authDomain,s,"auth-domain-config-required"),_(s.config.apiKey,s,"invalid-api-key");const o={apiKey:s.config.apiKey,appName:s.name,authType:t,redirectUrl:r,v:mt,eventId:a};if(e instanceof Bt){e.setDefaultLanguage(s.languageCode),o.providerId=e.providerId||"",ni(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,l]of Object.entries({}))o[h]=l}if(e instanceof pt){const h=e.getScopes().filter(l=>l!=="");h.length>0&&(o.scopes=h.join(","))}s.tenantId&&(o.tid=s.tenantId);const d=o;for(const h of Object.keys(d))d[h]===void 0&&delete d[h];const c=await s._getAppCheckToken(),u=c?`#${gc}=${encodeURIComponent(c)}`:"";return`${bc(s)}?${ht(d).slice(1)}${u}`}function bc({config:s}){return s.emulator?ws(s,pc):`https://${s.authDomain}/${fc}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="webStorageSupport";class yc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yn,this._completeRedirectFn=En,this._overrideRedirectResult=Fl}async _openPopup(e,t,r,a){var i;Se((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await _r(e,t,r,us(),a);return hc(e,o,Ns())}async _openRedirect(e,t,r,a){await this._originValidation(e);const i=await _r(e,t,r,us(),a);return vl(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:i}=this.eventManagers[t];return a?Promise.resolve(a):(Se(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await ic(e),r=new Vl(e);return t.register("authEvent",a=>(_(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ts,{type:ts},a=>{var i;const o=(i=a?.[0])===null||i===void 0?void 0:i[ts];o!==void 0&&t(!!o),ge(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Yl(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ln()||tn()||Is()}}const xc=yc;var Ir="@firebase/auth",Nr="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _c(s){lt(new rt("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:d}=r.options;_(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:d,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cn(s)},u=new Vo(r,a,i,c);return el(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),lt(new rt("auth-internal",e=>{const t=Ee(e.getProvider("auth").getImmediate());return(r=>new vc(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ze(Ir,Nr,wc(s)),Ze(Ir,Nr,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=300,Nc=Or("authIdTokenMaxAge")||Ic;let Sr=null;const Sc=s=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Nc)return;const a=t?.token;Sr!==a&&(Sr=a,await fetch(s,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Ec(s=io()){const e=Br(s,"auth");if(e.isInitialized())return e.getImmediate();const t=Zo(s,{popupRedirectResolver:xc,persistence:[Tl,bl,yn]}),r=Or("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=Sc(i.toString());fl(t,o,()=>o(t.currentUser)),ml(t,d=>o(d))}}const a=Ga("auth");return a&&tl(t,`http://${a}`),t}function kc(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}Wo({loadJS(s){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=a=>{const i=le("internal-error");i.customData=a,t(i)},r.type="text/javascript",r.charset="UTF-8",kc().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_c("Browser");const Pe={apiKey:"your-production-firebase-api-key",authDomain:"your-project.firebaseapp.com",projectId:"your-project-id",storageBucket:"your-project.appspot.com",messagingSenderId:"your-sender-id",appId:"your-app-id"};let Er,ce,We;Pe.apiKey?(console.log(" Initializing Firebase with config:",{apiKey:Pe.apiKey?"***":"missing",authDomain:Pe.authDomain,projectId:Pe.projectId}),Er=$r(Pe),ce=Ec(Er),We=new xe,We.setCustomParameters({prompt:"select_account"}),We.addScope("email"),We.addScope("profile"),console.log(" Firebase initialized successfully")):(console.error(" Firebase configuration missing! Check your .env file"),console.log("Missing config:",{apiKey:!Pe.apiKey,authDomain:!Pe.authDomain,projectId:!Pe.projectId}));const jc=async()=>{if(!ce||!We)throw new Error("Firebase not configured");try{console.log(" Attempting Google Sign-In with popup method...");const e=(await Ml(ce,We)).user;console.log(" Popup sign-in successful:",e.email);const t=await e.getIdToken();return{user:{uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL},idToken:t}}catch(s){if(console.error(" Popup sign-in failed:",s),s.code==="auth/popup-blocked"||s.code==="auth/popup-closed-by-user"||s.message?.includes("Cross-Origin-Opener-Policy"))try{return console.log(" Popup blocked, trying redirect method..."),await Bl(ce,We),{pending:!0}}catch(e){throw console.error(" Both popup and redirect failed:",e),new Error("Google Sign-In failed. Please ensure popups are allowed or try again.")}throw s}},zt=async()=>{if(!ce)throw new Error("Firebase not configured");try{console.log(" Checking for Google Sign-In redirect result...");const s=await Hl(ce);if(s){console.log(" Google Sign-In redirect result found:",{uid:s.user.uid,email:s.user.email,displayName:s.user.displayName});const e=s.user,t=await e.getIdToken();return console.log(" Firebase ID token obtained, length:",t.length),{user:{uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL},idToken:t}}else console.log(" No Google Sign-In redirect result found");return null}catch(s){throw console.error(" Error handling redirect result:",s),s}},Tc=async(s,e,t)=>{if(!ce)throw new Error("Firebase not configured");try{const a=(await hl(ce,s,e)).user;await fn(a);const i=await a.getIdToken();return{user:{uid:a.uid,email:a.email,displayName:t||a.displayName,photoURL:a.photoURL,emailVerified:a.emailVerified},idToken:i,needsVerification:!a.emailVerified}}catch(r){throw console.error("Error signing up with email and password:",r),r}},Cc=async()=>{if(!ce||!ce.currentUser)throw new Error("No authenticated user");try{await fn(ce.currentUser)}catch(s){throw console.error("Error resending verification email:",s),s}},ks=({onSuccess:s,onError:e,disabled:t=!1,text:r="Continue with Google"})=>{const[a,i]=p.useState(!1);p.useEffect(()=>{(async()=>{try{const c=await zt();c&&c.idToken&&(console.log("Redirect result found:",c),s(c.idToken))}catch(c){console.error("Error handling redirect result:",c),e?.("Authentication failed after redirect. Please try again.")}})()},[s,e]);const o=async()=>{if(!(t||a)){i(!0);try{const d=await jc();if(d.pending){console.log("Redirecting to Google Sign-In...");return}d.idToken?s(d.idToken):e?.("Failed to get authentication token")}catch(d){console.error("Google Sign-In error:",d);let c="Failed to sign in with Google";d.code==="auth/popup-closed-by-user"?c="Sign-in was cancelled":d.code==="auth/popup-blocked"?c="Pop-up was blocked. Please try again.":d.code==="auth/unauthorized-domain"?c="This domain is not authorized for Google Sign-In. Please check your Firebase configuration.":d.code==="auth/operation-not-allowed"?c="Google Sign-In is not enabled. Please check your Firebase project settings.":d.message==="Firebase not configured"&&(c="Google Sign-In is not configured. Please check your Firebase settings."),e?.(c),i(!1)}}};return n.jsxs("button",{type:"button",onClick:o,disabled:t||a,className:"w-full bg-white hover:bg-gray-50 text-gray-900 font-medium py-3 px-6 rounded-lg border border-gray-300 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3 group",children:[a?n.jsx("div",{className:"w-5 h-5 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}):n.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[n.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),n.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),n.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),n.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),a?"Signing in...":r]})},Pc=({onAuthSuccess:s,onBackToLanding:e,initialMode:t="login"})=>{const[r,a]=p.useState(t==="login"),[i,o]=p.useState(""),[d,c]=p.useState(""),[u,h]=p.useState(""),[l,m]=p.useState(null),[b,x]=p.useState(!1);p.useEffect(()=>{(async()=>{try{const y=await zt();y&&y.idToken&&(console.log("Processing Google Sign-In redirect result for auth page:",y),await E(y.idToken))}catch(y){console.error("Error handling Google Sign-In redirect:",y),m("Authentication failed after redirect. Please try again.")}})()},[]);const E=async w=>{m(null),x(!0);try{const y=await F.post(V.auth.google,{credential:w}),{token:f,email:I,username:P}=y.data;localStorage.setItem("medMasterToken",f);try{const T=await Ue.getSubscriptionStatus();s(f,I,P,T.subscription_type),T.subscription_type==="demo"?j.success("Welcome! You have demo access to Gram Positive content across all modes."):j.success(`Welcome back! You have ${T.subscription_type} access.`)}catch(T){console.warn("Could not fetch subscription status:",T),s(f,I,P,"demo"),j.success("Welcome! Logged in successfully.")}}catch(y){const f=F.isAxiosError(y)&&y.response?y.response.data.message||"Google sign-in failed":"An error occurred during Google sign-in";m(f),j.error(f)}finally{x(!1)}},H=w=>{m(`Google Sign-In error: ${w}`)},v=async w=>{w.preventDefault(),m(null),x(!0);const y=r?V.auth.login:V.auth.register,f=r?{username:i,password:u}:{username:i,email:d,password:u};try{let I,P,T;if(r){const N=await F.post(y,f);I=N.data.token,P=N.data.email,T=N.data.username}else await F.post(y,f),I=(await F.post(V.auth.login,{username:i,password:u})).data.token,P=d,T=i;localStorage.setItem("medMasterToken",I);try{const N=await Ue.getSubscriptionStatus();s(I,P,T,N.subscription_type),N.subscription_type==="demo"?j.success("Welcome! You have demo access to Gram Positive content across all modes."):j.success(`Welcome back! You have ${N.subscription_type} access.`)}catch(N){console.warn("Could not fetch subscription status:",N),s(I,P,T,"demo"),j.success("Welcome! Logged in successfully.")}}catch(I){F.isAxiosError(I)&&I.response?m(I.response.data.message||"An error occurred."):m("An unknown error occurred. Is the server running?")}finally{x(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-900",children:n.jsxs("div",{className:"w-full max-w-md bg-gray-800 border border-gray-700 rounded-xl p-8 shadow-2xl",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx(Ut,{className:"h-16 w-16 mx-auto mb-4 text-blue-500"}),n.jsxs("h2",{className:"text-3xl font-extrabold text-white",children:["Welcome to ",n.jsx("span",{className:"text-blue-500",children:"Med"}),"Master"]}),n.jsx("p",{className:"text-lg text-gray-300 mt-2",children:r?"Log in to continue your journey":"Create an account to start"})]}),n.jsxs("form",{onSubmit:v,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",htmlFor:"username",children:"Username"}),n.jsx("input",{id:"username",type:"text",value:i,onChange:w=>o(w.target.value),required:!0,className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"})]}),!r&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",htmlFor:"email",children:"Email"}),n.jsx("input",{id:"email",type:"email",value:d,onChange:w=>c(w.target.value),required:!0,className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",htmlFor:"password",children:"Password"}),n.jsx("input",{id:"password",type:"password",value:u,onChange:w=>h(w.target.value),required:!0,className:"w-full bg-gray-700 border border-gray-600 text-white rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"})]}),l&&n.jsx("div",{className:"text-center text-red-400 bg-red-500/10 border border-red-500/30 rounded-lg p-3 text-sm",children:l}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:b,className:"w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors duration-300 disabled:opacity-50 disabled:cursor-wait",children:b?"Loading...":r?"Log In":"Register"})})]}),n.jsx("div",{className:"mt-8 mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-600"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-4 bg-gray-800 text-gray-400",children:"or"})})]})}),n.jsx("div",{className:"mb-6",children:n.jsx(ks,{onSuccess:E,onError:H,disabled:b,text:r?"Sign in with Google":"Sign up with Google"})}),n.jsxs("div",{className:"mt-6 text-center space-y-3",children:[n.jsx("button",{onClick:()=>a(!r),className:"block w-full text-sm font-medium text-gray-400 hover:text-blue-500",children:r?"Need an account? Register":"Already have an account? Log in"}),e&&n.jsx("button",{onClick:e,className:"block w-full text-sm font-medium text-gray-400 hover:text-blue-500 transition-colors",children:" Back to Landing Page"})]})]})})},Ac=({onSuccess:s,onBackToLanding:e,onSwitchToSignup:t,onAuthSuccess:r})=>{const[a,i]=p.useState(""),[o,d]=p.useState(""),[c,u]=p.useState(!1),[h,l]=p.useState(null),[m,b]=p.useState(!1);p.useEffect(()=>{const v=document.createElement("style");return v.textContent=`
      input[type="password"]::-ms-reveal,
      input[type="password"]::-ms-clear,
      input[type="password"]::-webkit-credentials-auto-fill-button {
        display: none;
      }
    `,document.head.appendChild(v),()=>{document.head.removeChild(v)}},[]),p.useEffect(()=>{(async()=>{try{console.log(" Login page loaded, checking for redirect result...");const w=await zt();w&&w.idToken&&(console.log(" Processing Google Sign-In redirect result:",w),console.log(" Calling handleGoogleSignIn with token..."),await x(w.idToken))}catch(w){console.error(" Error handling Google Sign-In redirect:",w),l("Authentication failed after redirect. Please try again.")}})()},[]);const x=async v=>{l(null),b(!0);try{console.log(" Sending Google credential to backend...");const w=await F.post(V.auth.google,{credential:v});console.log(" Backend response:",w.data);const{token:y,email:f,username:I,isNewUser:P}=w.data;localStorage.setItem("landingPageToken",y);const T=localStorage.getItem("medMasterToken");localStorage.setItem("medMasterToken",y);try{const N=await Ue.getSubscriptionStatus();T?localStorage.setItem("medMasterToken",T):localStorage.removeItem("medMasterToken"),r?.(y,f,I,N.subscription_type),P?N.subscription_type==="demo"?j.success("Welcome to MedMaster! Your Google account has been connected. You have demo access to Gram Positive content."):j.success(`Welcome to MedMaster! Your Google account has been connected. You have ${N.subscription_type} access.`):j.success("Successfully signed in with Google!"),s?.()}catch(N){console.warn("Could not fetch subscription status:",N),r?.(y,f,I,"demo"),P?j.success("Welcome to MedMaster! Your Google account has been connected. You have demo access to Gram Positive content."):j.success("Successfully signed in with Google!"),s?.()}}catch(w){F.isAxiosError(w)&&w.response?l(w.response.data.message||"Google sign-in failed."):l("An unknown error occurred during Google sign-in.")}finally{b(!1)}},E=v=>{l(`Google Sign-In error: ${v}`)},H=async v=>{v.preventDefault(),l(null),b(!0);try{const w=await F.post(V.auth.login,{username:a,password:o}),y=w.data.token,f=w.data.email,I=w.data.username,P=localStorage.getItem("medMasterToken");localStorage.setItem("medMasterToken",y);try{const T=await Ue.getSubscriptionStatus();P?localStorage.setItem("medMasterToken",P):localStorage.removeItem("medMasterToken"),localStorage.setItem("landingPageToken",y),r?.(y,f,I,T.subscription_type),T.subscription_type==="demo"?j.success("Welcome! You have demo access to Gram Positive content across all modes."):j.success(`Welcome back! You have ${T.subscription_type} access.`),s?.()}catch(T){console.warn("Could not fetch subscription status:",T),localStorage.setItem("landingPageToken",y),r?.(y,f,I,"demo"),j.success("Welcome! Logged in successfully."),s?.()}}catch(w){F.isAxiosError(w)&&w.response?l(w.response.data.message||"An error occurred."):l("An unknown error occurred. Is the server running?")}finally{b(!1)}};return n.jsx(n.Fragment,{children:n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md",children:[e&&n.jsxs("button",{onClick:e,className:"mb-6 flex items-center gap-2 text-gray-300 hover:text-white transition-colors group",children:[n.jsx(fs,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Back to Landing Page"]}),n.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-8 border border-gray-700 shadow-2xl",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center",children:n.jsx(Ut,{className:"w-8 h-8 text-white"})})}),n.jsxs("h1",{className:"text-3xl font-bold text-white mb-2",children:["Welcome Back to ",n.jsx("span",{className:"text-blue-400",children:"Med"}),"Master"]}),n.jsx("p",{className:"text-gray-300",children:"Sign in to access your landing page account"})]}),n.jsxs("form",{onSubmit:H,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",htmlFor:"landing-login-username",children:"Username"}),n.jsx("input",{id:"landing-login-username",type:"text",value:a,onChange:v=>i(v.target.value),required:!0,className:"w-full bg-gray-700/50 border border-gray-600 text-white rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300",placeholder:"Enter your username"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",htmlFor:"landing-login-password",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"landing-login-password",type:c?"text":"password",value:o,onChange:v=>d(v.target.value),required:!0,className:"w-full bg-gray-700/50 border border-gray-600 text-white rounded-lg p-3 pr-12 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 appearance-none",placeholder:"Enter your password"}),n.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:c?n.jsx(kt,{className:"w-5 h-5"}):n.jsx(jt,{className:"w-5 h-5"})})]})]}),h&&n.jsx("div",{className:"text-center text-red-400 bg-red-500/10 border border-red-500/30 rounded-lg p-3 text-sm",children:h}),n.jsx("button",{type:"submit",disabled:m,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 group",children:m?n.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):n.jsxs(n.Fragment,{children:["Sign In",n.jsx(ps,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]}),n.jsx("div",{className:"mt-8 mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-600"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-4 bg-gray-800/50 text-gray-400",children:"or"})})]})}),n.jsx("div",{className:"mb-6",children:n.jsx(ks,{onSuccess:x,onError:E,disabled:m,text:"Sign in with Google"})}),n.jsx("div",{className:"mt-6 text-center",children:n.jsx("button",{onClick:t,className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Don't have an account? Sign up"})})]})]})})})},Rc={landingDomain:"medmaster.site",appDomain:"app.medmaster.com",tokenKey:"medMasterToken",userKey:"medMasterUser"};class Mc{config;constructor(e={}){this.config={...Rc,...e}}storeAuthData(e){localStorage.setItem("landingPageToken",e.token),localStorage.setItem("landingPageUser",JSON.stringify({username:e.username,email:e.email,subscriptionType:e.subscriptionType||"demo"})),localStorage.setItem(this.config.tokenKey,e.token),localStorage.setItem(this.config.userKey,JSON.stringify({username:e.username,email:e.email,subscriptionType:e.subscriptionType||"demo"}))}getAuthData(){const e=localStorage.getItem("landingPageToken")||localStorage.getItem(this.config.tokenKey),t=localStorage.getItem("landingPageUser")||localStorage.getItem(this.config.userKey);if(!e||!t)return null;try{const r=JSON.parse(t);return{token:e,email:r.email,username:r.username,subscriptionType:r.subscriptionType}}catch(r){return console.error("Error parsing stored auth data:",r),null}}clearAuthData(){localStorage.removeItem("landingPageToken"),localStorage.removeItem("landingPageUser"),localStorage.removeItem(this.config.tokenKey),localStorage.removeItem(this.config.userKey)}generateAppRedirectUrl(e,t="/"){const r=`https://${this.config.appDomain}`,a=new URLSearchParams({token:e.token,email:e.email,username:e.username,subscriptionType:e.subscriptionType||"demo",redirect:t});return`${r}/auth/callback?${a.toString()}`}parseAuthFromUrl(){const e=new URLSearchParams(window.location.search),t=e.get("token"),r=e.get("email"),a=e.get("username"),i=e.get("subscriptionType");return!t||!r||!a?null:{token:t,email:r,username:a,subscriptionType:i||"demo"}}handleAuthSuccess(e,t="/"){this.storeAuthData(e);const r=this.generateAppRedirectUrl(e,t);window.location.href=r}isLandingSite(){return window.location.hostname.includes(this.config.landingDomain.replace("https://",""))}isMainApp(){return window.location.hostname.includes(this.config.appDomain.replace("https://",""))}postAuthMessage(e){window.parent&&window.parent!==window&&window.parent.postMessage({type:"AUTH_SUCCESS",data:e},"*")}listenForAuthMessages(e){const t=r=>{r.data.type==="AUTH_SUCCESS"&&r.data.data&&e(r.data.data)};return window.addEventListener("message",t),()=>{window.removeEventListener("message",t)}}}const Qe=new Mc({landingDomain:"https://medmaster.site",appDomain:"https://app.medmaster.com"}),jn=p.createContext(void 0),Dc=({children:s})=>{const[e,t]=p.useState(null),[r,a]=p.useState(!1),i=(u,h,l,m="demo")=>{const b={username:l,email:h,subscriptionType:m},x={token:u,email:h,username:l,subscriptionType:m};Qe.storeAuthData(x),t(b),a(!0)},o=()=>{Qe.clearAuthData(),t(null),a(!1)},d=async()=>{const u=Qe.getAuthData(),h=e;if(!(!u||!h))try{console.log(" Refreshing subscription status...");const l=localStorage.getItem("medMasterToken");localStorage.setItem("medMasterToken",u.token);const m=await Ue.getSubscriptionStatus();l?localStorage.setItem("medMasterToken",l):localStorage.removeItem("medMasterToken");const b={...h,subscriptionType:m.subscription_type};console.log(" Subscription status updated:",m.subscription_type),t(b);const x={...u,subscriptionType:m.subscription_type};Qe.storeAuthData(x)}catch(l){console.error(" Error refreshing subscription status:",l)}};p.useEffect(()=>{(async()=>{const h=Qe.getAuthData();if(h)try{const l={username:h.username,email:h.email,subscriptionType:h.subscriptionType||"demo"};t(l),a(!0);try{console.log(" Refreshing subscription status on mount...");const m=localStorage.getItem("medMasterToken");localStorage.setItem("medMasterToken",h.token);const b=await Ue.getSubscriptionStatus();m?localStorage.setItem("medMasterToken",m):localStorage.removeItem("medMasterToken");const x={...l,subscriptionType:b.subscription_type};console.log(" Subscription status updated on mount:",b.subscription_type),t(x);const E={...h,subscriptionType:b.subscription_type};Qe.storeAuthData(E)}catch(m){console.error("Error refreshing subscription on mount:",m)}}catch(l){console.error("Error parsing stored user data:",l),o()}})()},[]);const c={user:e,isAuthenticated:r,login:i,logout:o,refreshSubscriptionStatus:d};return n.jsx(jn.Provider,{value:c,children:s})},js=()=>{const s=p.useContext(jn);if(s===void 0)throw new Error("useLandingAuth must be used within a LandingAuthProvider");return s},Oc=({email:s,onBackToLogin:e,onResendSuccess:t})=>{const[r,a]=p.useState(!1),[i,o]=p.useState(null),d=async()=>{const u=Date.now();if(i&&u-i<6e4){const h=Math.ceil((6e4-(u-i))/1e3);j.error(`Please wait ${h} seconds before resending.`);return}a(!0);try{await Cc(),o(u),j.success("Verification email sent! Please check your inbox."),t?.()}catch(h){console.error("Error resending verification email:",h);let l="Failed to resend verification email.";h.code==="auth/too-many-requests"?l="Too many requests. Please try again later.":h.code==="auth/user-not-found"&&(l="User not found. Please sign up again."),j.error(l)}finally{a(!1)}},c=()=>{const u=["mailto:","https://mail.google.com","https://outlook.live.com","https://mail.yahoo.com"];window.open(u[0],"_blank")};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md",children:[e&&n.jsxs("button",{onClick:e,className:"mb-6 flex items-center gap-2 text-gray-300 hover:text-white transition-colors group",children:[n.jsx(fs,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Back to Login"]}),n.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-8 border border-gray-700 shadow-2xl",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:n.jsx(ss,{className:"w-10 h-10 text-white"})})}),n.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Check Your Email"}),n.jsx("p",{className:"text-gray-300 mb-2",children:"We've sent a verification link to:"}),n.jsx("p",{className:"text-blue-400 font-medium text-lg mb-6",children:s}),n.jsx("p",{className:"text-gray-400 text-sm mb-8",children:"Click the link in the email to verify your account. You won't be able to sign in until your email is verified."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("button",{onClick:c,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-medium py-3 px-6 rounded-lg transition-all duration-300 flex items-center justify-center gap-2",children:[n.jsx(ss,{className:"w-5 h-5"}),"Open Mail App"]}),n.jsxs("button",{onClick:d,disabled:r,className:"w-full bg-gray-700/50 hover:bg-gray-600/50 text-gray-300 hover:text-white font-medium py-3 px-6 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[r?n.jsx(Us,{className:"w-5 h-5 animate-spin"}):n.jsx(Us,{className:"w-5 h-5"}),r?"Sending...":"Resend Verification Email"]})]}),n.jsx("div",{className:"mt-8 text-center",children:n.jsx("p",{className:"text-gray-400 text-sm",children:"Didn't receive an email? Check your spam folder or try resending."})}),n.jsx("div",{className:"mt-6 text-center",children:n.jsx("button",{onClick:e,className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Already verified? Sign in"})})]})]})})},Lc=({onSuccess:s,onBackToLanding:e,onSwitchToLogin:t,onAuthSuccess:r})=>{const[a,i]=p.useState(""),[o,d]=p.useState(""),[c,u]=p.useState(""),[h,l]=p.useState(!1),[m,b]=p.useState(null),[x,E]=p.useState(!1),[H,v]=p.useState(!1),[w,y]=p.useState(""),{login:f}=js();p.useEffect(()=>{(async()=>{try{const A=await zt();A&&A.idToken&&(console.log("Processing Google Sign-In redirect result:",A),await I(A.idToken))}catch(A){console.error("Error handling Google Sign-In redirect:",A),b("Authentication failed after redirect. Please try again.")}})()},[]);const I=async N=>{b(null),E(!0);try{const A=await F.post(V.auth.google,{credential:N}),{token:M,email:K,username:Y,isNewUser:z}=A.data;localStorage.setItem("landingPageToken",M);const de=localStorage.getItem("medMasterToken");localStorage.setItem("medMasterToken",M);try{const W=await Ue.getSubscriptionStatus();de?localStorage.setItem("medMasterToken",de):localStorage.removeItem("medMasterToken"),f(M,K,Y,W.subscription_type),r&&r(M,K,Y,W.subscription_type),z?W.subscription_type==="demo"?j.success("Welcome to MedMaster! Your Google account has been connected. You have demo access to Gram Positive content."):j.success(`Welcome to MedMaster! Your Google account has been connected. You have ${W.subscription_type} access.`):j.success("Successfully signed in with Google!"),s?.()}catch(W){console.warn("Could not fetch subscription status:",W),f(M,K,Y,"demo"),r&&r(M,K,Y,"demo"),z?j.success("Welcome to MedMaster! Your Google account has been connected. You have demo access to Gram Positive content."):j.success("Successfully signed in with Google!"),s?.()}}catch(A){F.isAxiosError(A)&&A.response?b(A.response.data.message||"Google sign-in failed."):b("An unknown error occurred during Google sign-in.")}finally{E(!1)}},P=N=>{b(`Google Sign-In error: ${N}`)},T=async N=>{N.preventDefault(),b(null),E(!0);try{const A=await Tc(o,c,a);if(A.needsVerification){y(o),v(!0),j.success("Account created! Please check your email to verify your account."),E(!1);return}const M=await F.post(V.auth.registerFirebase,{credential:A.idToken,email:A.user.email,username:a}),{token:K}=M.data;if(M.data.needsVerification){y(o),v(!0),j.success("Account created! Please check your email to verify your account.");return}const Y=localStorage.getItem("medMasterToken");localStorage.setItem("medMasterToken",K);try{const z=await Ue.getSubscriptionStatus();Y?localStorage.setItem("medMasterToken",Y):localStorage.removeItem("medMasterToken"),f(K,o,a,z.subscription_type),r?.(K,o,a,z.subscription_type),j.success("Welcome to MedMaster! Your account has been created and verified."),s?.()}catch(z){console.warn("Could not fetch subscription status:",z),f(K,o,a,"demo"),r?.(K,o,a,"demo"),j.success("Welcome to MedMaster! Account created successfully."),s?.()}}catch(A){console.error("Signup error:",A);let M="An error occurred during signup.";A.code==="auth/email-already-in-use"?M="An account with this email already exists.":A.code==="auth/weak-password"?M="Password is too weak. Please choose a stronger password.":A.code==="auth/invalid-email"?M="Please enter a valid email address.":F.isAxiosError(A)&&A.response&&(M=A.response.data.message||"An error occurred."),b(M)}finally{E(!1)}};return H?n.jsx(Oc,{email:w,onBackToLogin:()=>{v(!1),t?.()},onResendSuccess:()=>{j.success("Verification email sent! Please check your inbox.")}}):n.jsx(n.Fragment,{children:n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md",children:[e&&n.jsxs("button",{onClick:e,className:"mb-6 flex items-center gap-2 text-gray-300 hover:text-white transition-colors group",children:[n.jsx(fs,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Back to Landing Page"]}),n.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-8 border border-gray-700 shadow-2xl",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center",children:n.jsx(Ut,{className:"w-8 h-8 text-white"})})}),n.jsxs("h1",{className:"text-3xl font-bold text-white mb-2",children:["Join ",n.jsx("span",{className:"text-blue-400",children:"Med"}),"Master"]}),n.jsx("p",{className:"text-gray-300",children:"Create your landing page account to get started"})]}),n.jsxs("form",{onSubmit:T,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",htmlFor:"landing-signup-username",children:"Username"}),n.jsx("input",{id:"landing-signup-username",type:"text",value:a,onChange:N=>i(N.target.value),required:!0,className:"w-full bg-gray-700/50 border border-gray-600 text-white rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300",placeholder:"Choose a username"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",htmlFor:"landing-signup-email",children:"Email"}),n.jsx("input",{id:"landing-signup-email",type:"email",value:o,onChange:N=>d(N.target.value),required:!0,className:"w-full bg-gray-700/50 border border-gray-600 text-white rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300",placeholder:"Enter your email"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",htmlFor:"landing-signup-password",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"landing-signup-password",type:h?"text":"password",value:c,onChange:N=>u(N.target.value),required:!0,className:"w-full bg-gray-700/50 border border-gray-600 text-white rounded-lg p-3 pr-12 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300",placeholder:"Create a password"}),n.jsx("button",{type:"button",onClick:()=>l(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:h?n.jsx(kt,{className:"w-5 h-5"}):n.jsx(jt,{className:"w-5 h-5"})})]})]}),m&&n.jsx("div",{className:"text-center text-red-400 bg-red-500/10 border border-red-500/30 rounded-lg p-3 text-sm",children:m}),n.jsx("button",{type:"submit",disabled:x,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 group",children:x?n.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):n.jsxs(n.Fragment,{children:["Create Account",n.jsx(ps,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]}),n.jsx("div",{className:"mt-8 mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-600"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-4 bg-gray-800/50 text-gray-400",children:"or"})})]})}),n.jsx("div",{className:"mb-6",children:n.jsx(ks,{onSuccess:I,onError:P,disabled:x,text:"Sign up with Google"})}),n.jsx("div",{className:"mt-6 text-center",children:n.jsx("button",{onClick:t,className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Already have an account? Sign in"})})]})]})})})},kr=({onGoToApp:s})=>{const{user:e,logout:t,refreshSubscriptionStatus:r}=js(),[a,i]=p.useState(!1),o=p.useRef(null);if(p.useEffect(()=>{const h=l=>{o.current&&!o.current.contains(l.target)&&i(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]),p.useEffect(()=>{r()},[r]),!e)return null;const d=()=>{switch(e.subscriptionType){case"premium":return n.jsx(Vn,{className:"w-4 h-4 text-yellow-400"});case"starter":return n.jsx(zn,{className:"w-4 h-4 text-blue-400"});default:return n.jsx(Fs,{className:"w-4 h-4 text-gray-400"})}},c=()=>{switch(e.subscriptionType){case"premium":return"Premium Plan";case"starter":return"Starter Plan";default:return"Demo Account"}},u=()=>{switch(e.subscriptionType){case"premium":return"text-yellow-400";case"starter":return"text-blue-400";default:return"text-gray-400"}};return n.jsxs("div",{className:"relative",ref:o,children:[n.jsxs("button",{onClick:()=>i(!a),className:"flex items-center gap-3 bg-gray-800/50 hover:bg-gray-700/50 border border-gray-600 rounded-lg px-4 py-2 transition-all duration-300 hover:scale-105",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:n.jsx(rs,{className:"w-4 h-4 text-white"})}),n.jsxs("div",{className:"hidden md:block text-left",children:[n.jsx("div",{className:"text-white font-medium text-sm",children:e.username}),n.jsxs("div",{className:`text-xs ${u()} flex items-center gap-1`,children:[d(),c()]})]}),n.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${a?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a&&n.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-gray-800 border border-gray-600 rounded-xl shadow-2xl z-50 overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:n.jsx(rs,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-white font-bold text-lg",children:e.username}),n.jsx("div",{className:"text-blue-100 text-sm",children:e.email})]})]})}),n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[n.jsx("div",{className:"text-gray-300 text-sm mb-1",children:"Current Plan"}),n.jsxs("div",{className:`font-medium flex items-center gap-2 ${u()}`,children:[d(),c()]})]}),n.jsxs("div",{className:"space-y-2",children:[s&&n.jsxs("button",{onClick:()=>{i(!1),s()},className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-300 flex items-center justify-center gap-2",children:[n.jsx(Fs,{className:"w-4 h-4"}),"Go to App"]}),n.jsxs("button",{onClick:()=>{i(!1),t()},className:"w-full bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-300 flex items-center justify-center gap-2",children:[n.jsx(Hn,{className:"w-4 h-4"}),"Sign Out"]})]})]})]})]})};class Uc{async getAvailablePaymentMethods(){try{const e=localStorage.getItem("medMasterToken");if(!e)throw new Error("Authentication required");const t=await F.get(V.payment.methods,Ae(e));return t.data.success?t.data.methods||this.getDefaultPaymentMethods():this.getDefaultPaymentMethods()}catch(e){return console.error("Error fetching payment methods:",e),this.getDefaultPaymentMethods()}}getDefaultPaymentMethods(){return[{id:"payfast_card",name:"Debit/Credit Card",type:"card",icon:"",description:"Pay securely with your debit or credit card via PayFast",available:!0},{id:"payfast_bank",name:"Bank Transfer",type:"bank",icon:"",description:"Direct bank transfer via PayFast",available:!0},{id:"paddle_card",name:"International Card",type:"card",icon:"",description:"Pay with international cards via Paddle",available:!0}]}async createPaymentSession(e,t){try{const r=localStorage.getItem("medMasterToken");if(!r)throw new Error("Authentication required");const a=await F.post(V.payment.createSession,{planId:e,paymentMethod:t},Ae(r));return a.data.success?{success:!0,sessionId:a.data.sessionId,url:a.data.paymentUrl||a.data.checkoutUrl,paymentMethod:a.data.paymentMethod,qrCode:a.data.qrCode,bankDetails:a.data.bankDetails}:{success:!1,error:a.data.error||"Failed to create payment session"}}catch(r){return console.error("Error creating payment session:",r),{success:!1,error:r.response?.data?.message||r.message||"Failed to create payment session"}}}async createCheckoutSession(e){try{const t=localStorage.getItem("medMasterToken");if(!t)throw new Error("Authentication required");const r=await F.post(V.payment.createCheckout,{planId:e},Ae(t));return r.data.success&&r.data.checkoutUrl?{success:!0,url:r.data.checkoutUrl}:{success:!1,error:r.data.error||"Failed to create checkout session"}}catch(t){return console.error("Error creating checkout session:",t),{success:!1,error:t.response?.data?.message||t.message||"Failed to create checkout session"}}}async redirectToCheckout(e){try{const t=await this.createCheckoutSession(e);return t.success&&t.url?(window.location.href=t.url,!0):(console.error("Failed to create checkout session:",t.error),!1)}catch(t){return console.error("Error redirecting to checkout:",t),!1}}async handlePaymentSuccess(e){try{return(await F.get(`${V.payment.success}?session_id=${e}`)).data.success}catch(t){return console.error("Error handling payment success:",t),!1}}async verifyPayment(e){try{const t=localStorage.getItem("medMasterToken");if(!t)throw new Error("Authentication required");return(await F.post(V.payment.verify,{sessionId:e},Ae(t))).data}catch(t){return console.error("Error verifying payment:",t),{success:!1,error:t.response?.data?.error||t.message||"Failed to verify payment"}}}async getPaymentHistory(){try{const e=localStorage.getItem("medMasterToken");if(!e)throw new Error("Authentication required");return(await F.get(V.payment.history,Ae(e))).data}catch(e){return console.error("Error getting payment history:",e),{success:!1,data:[]}}}async getTransaction(e){try{const t=localStorage.getItem("medMasterToken");if(!t)throw new Error("Authentication required");const r=await F.get(V.payment.transaction(e),Ae(t));return r.data.success?r.data.data:null}catch(t){return console.error("Error getting transaction:",t),null}}formatCurrency(e,t="PKR"){return t==="PKR"?`${e.toLocaleString()}`:`${t} ${e.toLocaleString()}`}getStatusDisplay(e){switch(e.toLowerCase()){case"completed":return{text:"Completed",color:"text-green-600"};case"pending":return{text:"Pending",color:"text-yellow-600"};case"failed":return{text:"Failed",color:"text-red-600"};case"cancelled":return{text:"Cancelled",color:"text-gray-600"};default:return{text:e,color:"text-gray-600"}}}isPaymentSuccessful(e){return e.toLowerCase()==="completed"}getSuccessPageUrl(e){return`/payment/success?session_id=${e}`}getCancelPageUrl(){return"/payment/cancel"}}const jr=new Uc,Fc=({planId:s,planName:e,planPrice:t,onPaymentInitiated:r,onError:a})=>{const[i,o]=p.useState([]),[d,c]=p.useState(""),[u,h]=p.useState(!0),[l,m]=p.useState(!1),[b,x]=p.useState(null);p.useEffect(()=>{E()},[]);const E=async()=>{try{const f=await jr.getAvailablePaymentMethods();o(f),f.length>0&&f[0].available&&c(f[0].id)}catch(f){console.error("Error fetching payment methods:",f),j.error("Failed to load payment methods")}finally{h(!1)}},H=f=>{c(f),x(null)},v=async()=>{if(!d){j.error("Please select a payment method");return}try{m(!0);const f=await jr.createPaymentSession(s,d);if(f.success)x(f),r?.(f),f.url&&d.includes("paddle")&&(window.location.href=f.url);else{const I=f.error||"Failed to create payment session";j.error(I),a?.(I)}}catch(f){const I=f.message||"Payment initialization failed";j.error(I),a?.(I)}finally{m(!1)}},w=f=>{switch(f.type){case"card":return f.id.includes("paddle")?n.jsx(Kn,{className:"w-6 h-6"}):n.jsx(Bs,{className:"w-6 h-6"});case"bank":return n.jsx(qn,{className:"w-6 h-6"});default:return n.jsx(Bs,{className:"w-6 h-6"})}},y=f=>f.id.includes("payfast")?"border-blue-500 bg-blue-50":f.id.includes("paddle")?"border-green-500 bg-green-50":"border-gray-300 bg-gray-50";return u?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Ct,{size:"md",color:"blue"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Selected Plan"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-700",children:e}),n.jsxs("span",{className:"text-xl font-bold text-gray-900",children:["",t]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Choose Payment Method"}),n.jsx("div",{className:"space-y-3",children:i.map(f=>n.jsx("div",{className:`relative border-2 rounded-lg p-4 cursor-pointer transition-all duration-200 ${d===f.id?`${y(f)} border-opacity-100`:"border-gray-200 hover:border-gray-300"} ${f.available?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>f.available&&H(f.id),children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:`p-2 rounded-full ${d===f.id?"text-blue-600":"text-gray-500"}`,children:w(f)}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:f.name}),f.id.includes("payfast")&&n.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full font-medium",children:"PayFast"}),f.id.includes("paddle")&&n.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full font-medium",children:"Paddle"})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.description}),!f.available&&n.jsxs("div",{className:"flex items-center space-x-1 mt-2",children:[n.jsx(Wn,{className:"w-4 h-4 text-yellow-500"}),n.jsx("span",{className:"text-xs text-yellow-600",children:"Currently unavailable"})]})]}),d===f.id&&n.jsx(Gn,{className:"w-6 h-6 text-blue-600"})]})},f.id))})]}),b&&d.includes("payfast")&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Payment Instructions"}),b.qrCode&&n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-sm text-blue-800 mb-2",children:"Scan QR Code to Pay:"}),n.jsx("div",{className:"bg-white p-3 rounded-lg inline-block",children:n.jsx("img",{src:b.qrCode,alt:"Payment QR Code",className:"w-32 h-32"})})]}),b.bankDetails&&n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-sm text-blue-800 mb-2",children:"Bank Transfer Details:"}),n.jsxs("div",{className:"bg-white p-3 rounded-lg space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Account Number:"}),n.jsx("span",{className:"text-sm",children:b.bankDetails.accountNumber})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Bank Name:"}),n.jsx("span",{className:"text-sm",children:b.bankDetails.bankName})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm font-medium",children:"Account Title:"}),n.jsx("span",{className:"text-sm",children:b.bankDetails.accountTitle})]})]})]}),b.url&&n.jsx("div",{children:n.jsx("a",{href:b.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Complete Payment"})})]}),!b&&n.jsx("button",{onClick:v,disabled:!d||l,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 px-4 rounded-lg transition-colors duration-200",children:l?n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx(Ct,{size:"sm",color:"white"}),n.jsx("span",{children:"Processing..."})]}):"Proceed to Payment"})]})};function Bc({onGetStarted:s,onAuthSuccess:e,onNavigateToPricing:t,onNavigateToDocumentation:r,onNavigateToDownloads:a}){const[i,o]=p.useState(0),[d,c]=p.useState(!1),[u,h]=p.useState(0),[l,m]=p.useState(!0),[b,x]=p.useState(!1),[E,H]=p.useState(null),[v,w]=p.useState(!1),[y]=p.useState("login"),[f,I]=p.useState(!1),[P,T]=p.useState(!1),{isAuthenticated:N}=js(),{trackPageView:A,trackEvent:M}=ra(),{targetRef:K,isIntersecting:Y}=Tt({threshold:.5}),{targetRef:z,isIntersecting:de}=Tt({threshold:.3});p.useEffect(()=>{A("/landing"),m(!1)},[A]),p.useEffect(()=>{Y&&M("hero_section_viewed")},[Y,M]),p.useEffect(()=>{de&&M("features_section_viewed")},[de,M]);const W=[{src:"/screenshots/dashboard.svg",alt:"Dashboard Overview",title:"Personalized Dashboard"},{src:"/screenshots/quiz.svg",alt:"Quiz Interface",title:"Interactive Quizzes"},{src:"/screenshots/flashcards.svg",alt:"Flashcards Interface",title:"Smart Flashcards"},{src:"/screenshots/clinical-case.svg",alt:"Clinical Case Study",title:"Clinical Cases"},{src:"/screenshots/analytics.svg",alt:"Analytics Dashboard",title:"Detailed Analytics"},{src:"/screenshots/leaderboard.svg",alt:"Leaderboard Rankings",title:"Global Leaderboard"}],k=[{name:"Ahmed Hassan",college:"Dow University of Health Sciences",year:"3rd Year",image:"/testimonials/ahmed.svg",comment:"MedMaster transformed my study routine! The spaced repetition system helped me retain complex microbiology concepts effortlessly."},{name:"Fatima Khan",college:"Aga Khan University",year:"4th Year",image:"/testimonials/fatima.svg",comment:"The clinical cases are incredibly realistic. I feel much more confident approaching real patients after practicing here."},{name:"Ali Raza",college:"King Edward Medical University",year:"2nd Year",image:"/testimonials/ali.svg",comment:"Gamification made studying fun! I'm actually excited to learn pharmacology now. The leaderboard keeps me motivated."},{name:"Ayesha Malik",college:"Allama Iqbal Medical College",year:"5th Year",image:"/testimonials/ayesha.svg",comment:"The analytics feature helped me identify my weak areas. My exam scores improved by 25% in just 2 months!"},{name:"Hassan Ali",college:"Lahore Medical College",year:"3rd Year",image:"/testimonials/hassan.svg",comment:"Quick Fire mode is addictive! I can study anywhere, anytime. Perfect for busy medical students like us."}];p.useEffect(()=>{const R=setInterval(()=>{o(D=>(D+1)%W.length)},4e3);return()=>clearInterval(R)},[W.length]),p.useEffect(()=>{const R=setInterval(()=>{h(D=>(D+1)%k.length)},5e3);return()=>clearInterval(R)},[k.length]);const L=R=>{const D=document.getElementById(R);D&&(D.scrollIntoView({behavior:"smooth",block:"start"}),D.classList.add("section-highlight"),setTimeout(()=>{D.classList.remove("section-highlight")},1500),M("navigation_click",{section:R})),d&&c(!1)},ue=R=>{M("payment_initiated",{method:R.paymentMethod,sessionId:R.sessionId}),R.paymentMethod==="paddle"&&R.url?x(!1):j.success("Payment session created! Follow the instructions to complete payment.")},be=R=>{M("payment_error",{plan:E?.name,error:R}),j.error(R)},ee=()=>{x(!1),H(null)},he=()=>{I(!1),T(!1),E&&x(!0)},$e=()=>{I(!0)},C=()=>{T(!0)},B=()=>{I(!1),T(!1)},$=()=>{I(!0),T(!1)},Q=()=>{I(!1),T(!0)},me=()=>{s?.()},U=(R,D,je,Vt)=>{w(!1),e?.(R,D,je,Vt)},ke=()=>{w(!1),H(null)};return p.useEffect(()=>{const R=D=>{D.clientY<=0&&M("exit_intent_detected")};return document.addEventListener("mouseleave",R),()=>document.removeEventListener("mouseleave",R)},[M]),f?n.jsx(Ac,{onSuccess:he,onBackToLanding:B,onSwitchToSignup:Q,onAuthSuccess:e}):P?n.jsx(Lc,{onSuccess:he,onBackToLanding:B,onSwitchToLogin:$,onAuthSuccess:e}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 transition-all duration-500",style:{scrollBehavior:"smooth"},children:[n.jsx("style",{children:`
        .section-highlight {
          animation: highlight 1.5s ease-in-out;
        }
        @keyframes highlight {
          0%, 100% { box-shadow: 0 0 0 rgba(59, 130, 246, 0); }
          50% { box-shadow: 0 0 30px rgba(59, 130, 246, 0.5); }
        }
      `}),n.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 bg-gray-900/95 backdrop-blur-sm border-b border-gray-800 shadow-lg",children:[n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between h-16",children:[n.jsx("div",{className:"flex items-center",children:n.jsxs("h1",{className:"text-2xl font-bold text-white",children:["Med",n.jsx("span",{className:"text-blue-400",children:"Master"})]})}),n.jsxs("nav",{className:"hidden md:flex space-x-8",children:[n.jsx("button",{onClick:()=>L("hero"),className:"text-gray-300 hover:text-white transition-all duration-300 hover:scale-105 cursor-pointer",children:"Home"}),n.jsx("button",{onClick:()=>L("features"),className:"text-gray-300 hover:text-white transition-all duration-300 hover:scale-105 cursor-pointer",children:"Features"}),n.jsx("button",{onClick:()=>L("preview"),className:"text-gray-300 hover:text-white transition-all duration-300 hover:scale-105 cursor-pointer",children:"Preview"}),n.jsx("button",{onClick:r,className:"text-gray-300 hover:text-white transition-all duration-300 hover:scale-105 cursor-pointer",children:"Documentation"}),n.jsx("button",{onClick:t,className:"text-gray-300 hover:text-white transition-all duration-300 hover:scale-105 cursor-pointer",children:"Pricing"}),n.jsx("button",{onClick:()=>L("contact"),className:"text-gray-300 hover:text-white transition-all duration-300 hover:scale-105 cursor-pointer",children:"Contact"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[N?n.jsx(kr,{onGoToApp:me}):n.jsxs(n.Fragment,{children:["                  ",n.jsx("button",{onClick:$e,className:"text-gray-300 hover:text-white transition-all duration-300 hover:scale-105 hidden md:block",children:"Login"}),n.jsx("button",{onClick:C,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-all duration-300 hover:scale-105 shadow-lg hidden md:block",children:"Sign Up"})]}),n.jsx("button",{className:"md:hidden text-gray-300 hover:text-white transition-colors",onClick:()=>c(!d),children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]})}),d&&n.jsx("div",{className:"md:hidden bg-gray-900/98 backdrop-blur-sm border-t border-gray-800 animate-fadeIn",children:n.jsxs("div",{className:"px-4 py-4 space-y-4",children:[n.jsx("button",{className:"block w-full text-left text-gray-300 hover:text-white transition-colors",onClick:()=>{L("hero"),c(!1)},children:"Home"}),n.jsx("button",{className:"block w-full text-left text-gray-300 hover:text-white transition-colors",onClick:()=>{L("features"),c(!1)},children:"Features"}),n.jsx("button",{className:"block w-full text-left text-gray-300 hover:text-white transition-colors",onClick:()=>{L("preview"),c(!1)},children:"Preview"}),n.jsx("button",{className:"block w-full text-left text-gray-300 hover:text-white transition-colors",onClick:()=>{c(!1),r?.()},children:"Documentation"}),n.jsx("button",{className:"block w-full text-left text-gray-300 hover:text-white transition-colors",onClick:()=>{c(!1),t?.()},children:"Pricing"}),n.jsx("button",{className:"block w-full text-left text-gray-300 hover:text-white transition-colors",onClick:()=>{L("contact"),c(!1)},children:"Contact"}),n.jsx("div",{className:"pt-4 border-t border-gray-700 space-y-2",children:N?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"px-4 py-2",children:n.jsx(kr,{onGoToApp:me})}),n.jsx("button",{onClick:()=>{c(!1),me()},className:"block w-full bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg transition-all duration-300 hover:scale-105",children:"Go to App"})]}):n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>{c(!1),$e()},className:"block w-full text-left text-gray-300 hover:text-white transition-colors",children:"Login"}),n.jsx("button",{onClick:()=>{c(!1),C()},className:"block w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-all duration-300 hover:scale-105",children:"Sign Up"})]})})]})})]}),n.jsxs("div",{id:"hero",ref:K,className:"relative min-h-screen flex items-center overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-900 via-blue-900/50 to-purple-900/30"}),n.jsxs("div",{className:"absolute inset-0 opacity-30",children:[n.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-blue-500/10 rounded-full blur-3xl animate-pulse"}),n.jsx("div",{className:"absolute top-40 right-20 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-pulse delay-1000"}),n.jsx("div",{className:"absolute bottom-20 left-1/3 w-80 h-80 bg-green-500/10 rounded-full blur-3xl animate-pulse delay-2000"})]})]}),n.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:n.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[n.jsxs("div",{className:"text-left",children:[n.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-blue-500/10 border border-blue-500/20 rounded-full text-blue-400 text-sm font-medium mb-6 animate-fadeIn",children:[n.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full mr-2 animate-pulse"}),"The Future of Medical Education"]}),n.jsxs("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold mb-6 animate-slideDown",children:[n.jsx("span",{className:"text-white",children:"Master"}),n.jsx("br",{}),n.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-purple-500 to-green-400 bg-clip-text text-transparent",children:"Medical Knowledge"})]}),n.jsxs("p",{className:"text-xl md:text-2xl text-gray-300 mb-8 leading-relaxed animate-slideUp",children:["Stop cramming. Start mastering. Get",n.jsx("span",{className:"text-blue-400 font-semibold",children:"practice questions"}),",",n.jsx("span",{className:"text-purple-400 font-semibold",children:"real clinical cases"}),", and",n.jsx("span",{className:"text-green-400 font-semibold",children:"personalized study insights"})," that actually help you learn."]}),n.jsx("div",{className:"flex flex-col sm:flex-row gap-4 animate-slideUp",children:n.jsxs("button",{onClick:a,className:"group relative px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold rounded-xl text-lg transition-all duration-300 transform hover:scale-105 shadow-xl hover:shadow-2xl",children:[n.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Download Now",n.jsx(ps,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 rounded-xl blur opacity-30 group-hover:opacity-50 transition-opacity -z-10"})]})})]}),n.jsx("div",{className:"relative lg:block hidden",children:n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"relative w-full h-96 bg-gradient-to-br from-gray-800/50 to-gray-900/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl p-8 shadow-2xl",children:[n.jsx("div",{className:"absolute top-4 right-4 w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg animate-float",children:n.jsx(Ws,{className:"w-8 h-8 text-white"})}),n.jsx("div",{className:"absolute bottom-4 left-4 w-16 h-16 bg-gradient-to-r from-green-500 to-blue-500 rounded-xl flex items-center justify-center shadow-lg animate-float delay-1000",children:n.jsx(Gs,{className:"w-8 h-8 text-white"})}),n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-20 h-20 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center shadow-xl animate-pulse",children:n.jsx(qs,{className:"w-10 h-10 text-white"})}),n.jsx("div",{className:"absolute inset-0 opacity-10",children:n.jsx("div",{className:"grid grid-cols-8 grid-rows-8 gap-2 h-full",children:Array.from({length:64}).map((R,D)=>n.jsx("div",{className:"bg-blue-400 rounded-sm animate-pulse",style:{animationDelay:`${D*50}ms`}},D))})})]}),n.jsx("div",{className:"absolute -top-4 -left-4 w-24 h-24 bg-blue-500/20 rounded-full blur-xl animate-pulse"}),n.jsx("div",{className:"absolute -bottom-4 -right-4 w-32 h-32 bg-purple-500/20 rounded-full blur-xl animate-pulse delay-1000"})]})})]})})]}),n.jsx("section",{ref:z,id:"features",className:"py-20 bg-gray-900",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-16 animate-fadeIn",children:[n.jsx("h2",{className:"text-4xl font-bold mb-4 text-white",children:"Why Choose MedMaster?"}),n.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"Everything you need to ace your medical exams, all in one place"})]}),n.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"bg-gray-800 rounded-xl p-8 hover:bg-gray-750 transition-all duration-500 transform hover:scale-105 hover:shadow-xl animate-slideRight",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-red-500 to-orange-500 rounded-lg flex items-center justify-center mb-6 transition-all duration-300 hover:rotate-12",children:n.jsx(Ws,{className:"w-8 h-8 text-white"})}),n.jsx("h3",{className:"text-2xl font-bold mb-4 text-white",children:"Quick Fire Mode"}),n.jsx("p",{className:"text-gray-400 mb-4",children:"Blast through 7,000+ questions at lightning speed. Perfect your timing and accuracy with our smart spaced repetition system that actually works."}),n.jsxs("ul",{className:"text-sm text-gray-300 space-y-2",children:[n.jsx("li",{children:" Customizable difficulty levels"}),n.jsx("li",{children:" Subject-specific filtering"}),n.jsx("li",{children:" Real-time scoring"})]})]}),n.jsxs("div",{className:"bg-gray-800 rounded-xl p-8 hover:bg-gray-750 transition-all duration-300 transform hover:scale-105",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center mb-6",children:n.jsx(Gs,{className:"w-8 h-8 text-white"})}),n.jsx("h3",{className:"text-2xl font-bold mb-4 text-white",children:"Clinical Cases"}),n.jsx("p",{className:"text-gray-400 mb-4",children:"Work through 3,000+ cases that feel like the real thing. Practice your clinical reasoning before you step into the hospital."}),n.jsxs("ul",{className:"text-sm text-gray-300 space-y-2",children:[n.jsx("li",{children:" Real-world scenarios"}),n.jsx("li",{children:" Step-by-step diagnosis"}),n.jsx("li",{children:" Detailed explanations"})]})]}),n.jsxs("div",{className:"bg-gray-800 rounded-xl p-8 hover:bg-gray-750 transition-all duration-300 transform hover:scale-105",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center mb-6",children:n.jsx(qs,{className:"w-8 h-8 text-white"})}),n.jsx("h3",{className:"text-2xl font-bold mb-4 text-white",children:"Gamified Learning"}),n.jsx("p",{className:"text-gray-400 mb-4",children:"Level up while you study. Earn points, unlock cool themes, and see how you stack up against other med students. Who said studying can't be fun?"}),n.jsxs("ul",{className:"text-sm text-gray-300 space-y-2",children:[n.jsx("li",{children:" XP and leveling system"}),n.jsx("li",{children:" Unlockable themes"}),n.jsx("li",{children:" Achievement badges"})]})]}),n.jsxs("div",{className:"bg-gray-800 rounded-xl p-8 hover:bg-gray-750 transition-all duration-300 transform hover:scale-105",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-teal-500 rounded-lg flex items-center justify-center mb-6",children:n.jsx(Ks,{className:"w-8 h-8 text-white"})}),n.jsx("h3",{className:"text-2xl font-bold mb-4 text-white",children:"Smart Learning"}),n.jsx("p",{className:"text-gray-400 mb-4",children:"Never forget what you've learned. Our smart review system brings back topics right when you're about to forget them."}),n.jsxs("ul",{className:"text-sm text-gray-300 space-y-2",children:[n.jsx("li",{children:" Adaptive scheduling"}),n.jsx("li",{children:" Progress tracking"}),n.jsx("li",{children:" Personalized review"})]})]}),n.jsxs("div",{className:"bg-gray-800 rounded-xl p-8 hover:bg-gray-750 transition-all duration-300 transform hover:scale-105",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-lg flex items-center justify-center mb-6",children:n.jsx(Ks,{className:"w-8 h-8 text-white"})}),n.jsx("h3",{className:"text-2xl font-bold mb-4 text-white",children:"Advanced Analytics"}),n.jsx("p",{className:"text-gray-400 mb-4",children:"See exactly where you're crushing it and where you need work. No more guessing what to study next."}),n.jsxs("ul",{className:"text-sm text-gray-300 space-y-2",children:[n.jsx("li",{children:" Real-time performance tracking"}),n.jsx("li",{children:" Predictive learning insights"}),n.jsx("li",{children:" Personalized study recommendations"})]})]}),n.jsxs("div",{className:"bg-gray-800 rounded-xl p-8 hover:bg-gray-750 transition-all duration-300 transform hover:scale-105",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg flex items-center justify-center mb-6",children:n.jsx(Yn,{className:"w-8 h-8 text-white"})}),n.jsx("h3",{className:"text-2xl font-bold mb-4 text-white",children:"Compete & Excel"}),n.jsx("p",{className:"text-gray-400 mb-4",children:"Track your progress and compete with peers. See how you rank and stay motivated with our comprehensive leaderboard system."}),n.jsxs("ul",{className:"text-sm text-gray-300 space-y-2",children:[n.jsx("li",{children:" Global rankings"}),n.jsx("li",{children:" Daily goals"}),n.jsx("li",{children:" Social learning"})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-yellow-500/20 to-orange-500/20 border-2 border-dashed border-yellow-500/50 rounded-xl p-8 hover:border-yellow-400/70 transition-all duration-300 transform hover:scale-105",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-lg flex items-center justify-center mb-6",children:n.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}),n.jsx("h3",{className:"text-2xl font-bold mb-4 text-white",children:"More Content to be Added"}),n.jsx("p",{className:"text-gray-400 mb-4",children:"We're constantly expanding our platform with new features, subjects, and learning tools to enhance your medical education journey."}),n.jsxs("ul",{className:"text-sm text-gray-300 space-y-2",children:[n.jsx("li",{children:" New subject areas"}),n.jsx("li",{children:" Enhanced AI features"}),n.jsx("li",{children:" Community features"})]})]})]})]})}),n.jsx("section",{id:"preview",className:"py-20 bg-gray-800",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl font-bold mb-4 text-white",children:"See MedMaster in Action"}),n.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"Experience our intuitive interface and powerful features designed for medical students"})]}),n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsx("div",{className:"relative bg-gray-900 rounded-2xl p-8 shadow-2xl",children:n.jsxs("div",{className:"relative overflow-hidden rounded-xl",children:[n.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${i*100}%)`},children:W.map((R,D)=>n.jsx("div",{className:"w-full flex-shrink-0",children:n.jsx(aa,{src:R.src,alt:R.alt,className:"w-full h-auto rounded-lg shadow-lg",onLoad:()=>M("screenshot_loaded",{slide:D})})},D))}),n.jsx("div",{className:"flex justify-center mt-6 space-x-2",children:W.map((R,D)=>n.jsx("button",{onClick:()=>o(D),className:`w-3 h-3 rounded-full transition-all duration-300 ${D===i?"bg-blue-500 scale-125":"bg-gray-600 hover:bg-gray-500"}`},D))}),n.jsx("div",{className:"text-center mt-4",children:n.jsx("h3",{className:"text-xl font-semibold text-white",children:W[i].title})})]})})})]})}),n.jsx("section",{id:"stats",className:"py-20 bg-gradient-to-r from-blue-900 to-purple-900",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl font-bold mb-4 text-white",children:"Trusted by Medical Students"}),n.jsx("p",{className:"text-xl text-gray-300",children:"Join thousands of students mastering microbiology and pharmacology"})]}),n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"bg-gray-900 rounded-2xl p-8 shadow-2xl relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-purple-500/10"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-full overflow-hidden border-4 border-gradient-to-r from-blue-400 to-purple-400 shadow-lg",children:n.jsx("img",{src:k[u].image,alt:k[u].name,className:"w-full h-full object-cover",onError:R=>{R.currentTarget.src=`data:image/svg+xml;base64,${btoa(`
                            <svg xmlns="http://www.w3.org/2000/svg" width="128" height="128" viewBox="0 0 128 128">
                              <rect width="128" height="128" fill="#4F46E5"/>
                              <circle cx="64" cy="45" r="20" fill="white"/>
                              <circle cx="64" cy="105" r="35" fill="white"/>
                              <text x="64" y="70" text-anchor="middle" fill="#4F46E5" font-size="16" font-weight="bold">
                                ${k[u].name.split(" ").map(D=>D[0]).join("")}
                              </text>
                            </svg>
                          `)}`}})})}),n.jsxs("div",{className:"flex-1 text-center md:text-left",children:[n.jsxs("blockquote",{className:"text-lg md:text-xl text-gray-200 mb-4 italic",children:['"',k[u].comment,'"']}),n.jsxs("div",{className:"text-white",children:[n.jsx("div",{className:"font-bold text-xl",children:k[u].name}),n.jsx("div",{className:"text-blue-400 font-medium",children:k[u].college}),n.jsx("div",{className:"text-gray-400",children:k[u].year})]})]})]}),n.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:k.map((R,D)=>n.jsx("button",{onClick:()=>h(D),className:`w-3 h-3 rounded-full transition-all duration-300 ${D===u?"bg-blue-400 scale-125":"bg-gray-600 hover:bg-gray-500"}`},D))})]})]})}),n.jsx("div",{className:"max-w-4xl mx-auto mt-16",children:n.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl p-8 shadow-2xl relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/20 to-blue-500/20"}),n.jsxs("div",{className:"relative z-10 text-center",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center",children:n.jsx(Jn,{className:"w-8 h-8 text-purple-600"})})}),n.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:"Questions Based on Famous Resources"}),n.jsx("p",{className:"text-xl text-blue-100 mb-6",children:"Questions pulled from the resources you already know and trust"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[n.jsx("div",{className:"text-white font-bold text-lg",children:"Sketchy"}),n.jsx("div",{className:"text-blue-200 text-sm",children:"Visual Learning"})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[n.jsx("div",{className:"text-white font-bold text-lg",children:"Pixorize"}),n.jsx("div",{className:"text-blue-200 text-sm",children:"Memory Palace"})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[n.jsx("div",{className:"text-white font-bold text-lg",children:"First Aid"}),n.jsx("div",{className:"text-blue-200 text-sm",children:"USMLE Prep"})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/20",children:[n.jsx("div",{className:"text-white font-bold text-lg",children:"Anki"}),n.jsx("div",{className:"text-blue-200 text-sm",children:"Spaced Repetition"})]})]})]})]})})]})}),n.jsx("section",{id:"about-developer",className:"py-20 bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl font-bold mb-4 text-white",children:"About the Developer"}),n.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Meet the mind behind MedMaster"})]}),n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsx("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-2xl p-8 md:p-12 shadow-2xl border border-gray-700",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 rounded-full overflow-hidden border-4 border-gradient-to-r from-blue-400 to-purple-400 shadow-xl",children:n.jsx("img",{src:"/developer/haroon.jpg",alt:"Muhammad Haroon - Developer",className:"w-full h-full object-cover",onError:R=>{R.currentTarget.src=`data:image/svg+xml;base64,${btoa(`
                          <svg xmlns="http://www.w3.org/2000/svg" width="160" height="160" viewBox="0 0 160 160">
                            <rect width="160" height="160" fill="#4F46E5"/>
                            <circle cx="80" cy="60" r="25" fill="white"/>
                            <circle cx="80" cy="130" r="45" fill="white"/>
                            <text x="80" y="85" text-anchor="middle" fill="#4F46E5" font-size="20" font-weight="bold">
                              MH
                            </text>
                          </svg>
                        `)}`}})})}),n.jsxs("div",{className:"flex-1 text-center md:text-left",children:[n.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:"Muhammad Haroon"}),n.jsx("div",{className:"text-blue-400 font-semibold text-lg mb-4",children:"4th Year Medical Student"}),n.jsx("div",{className:"text-purple-400 font-medium mb-6",children:"Saidu Medical College, Swat"}),n.jsx("p",{className:"text-gray-300 text-lg leading-relaxed mb-6",children:"As a passionate 4th-year medical student at Saidu Medical College Swat, I created MedMaster to revolutionize how we learn microbiology and pharmacology. Having experienced the challenges of medical education firsthand, I designed this platform to make complex medical concepts more accessible, engaging, and memorable through gamification and innovative learning techniques."}),n.jsx("p",{className:"text-gray-400 leading-relaxed",children:"My goal is to empower fellow medical students with tools that not only help them excel in their studies but also prepare them to become better healthcare professionals. MedMaster represents my commitment to improving medical education and making learning an enjoyable journey rather than a burden."}),n.jsxs("div",{className:"flex justify-center md:justify-start gap-4 mt-8",children:[n.jsx("a",{href:"mailto:haroon@medmaster.com",className:"bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full transition-all duration-300 hover:scale-110",children:n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})}),n.jsx("a",{href:"https://linkedin.com/in/muhammad-haroon-medstudent",target:"_blank",rel:"noopener noreferrer",className:"bg-blue-800 hover:bg-blue-900 text-white p-3 rounded-full transition-all duration-300 hover:scale-110",children:n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})})]})]})]})})})]})}),n.jsx(la,{}),n.jsx("section",{id:"contact",className:"py-20 bg-gray-900",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-16 animate-fadeIn",children:[n.jsx("h2",{className:"text-4xl font-bold mb-4 text-white",children:"Get In Touch"}),n.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"Have questions or feedback? We'd love to hear from you!"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-8 max-w-4xl mx-auto",children:[n.jsxs("a",{href:"mailto:contact@medmaster.com",className:"w-full md:w-auto bg-gradient-to-r from-blue-600 to-blue-800 hover:from-blue-700 hover:to-blue-900 text-white font-bold py-4 px-8 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center justify-center gap-3 group",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 transition-transform duration-300 group-hover:scale-110",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),n.jsx("span",{children:"contact@medmaster.com"})]}),n.jsxs("a",{href:"https://linkedin.com/company/medmaster",target:"_blank",rel:"noopener noreferrer",className:"w-full md:w-auto bg-gradient-to-r from-blue-800 to-indigo-800 hover:from-blue-900 hover:to-indigo-900 text-white font-bold py-4 px-8 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center justify-center gap-3 group",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 transition-transform duration-300 group-hover:scale-110",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),n.jsx("span",{children:"LinkedIn"})]})]})]})}),n.jsx("footer",{className:"bg-black py-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[n.jsxs("div",{className:"flex justify-center items-center mb-4",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center mr-3",children:n.jsx(Ut,{className:"w-4 h-4 text-white"})}),n.jsx("span",{className:"text-xl font-bold text-white",children:"MedMaster"})]}),n.jsx("p",{className:"text-gray-500",children:" 2025 MedMaster. Empowering the next generation of medical professionals."})]})}),v&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-[var(--bg-secondary)] rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto border border-[var(--border-color)]",children:[n.jsxs("div",{className:"sticky top-0 bg-[var(--bg-secondary)] border-b border-[var(--border-color)] px-6 py-4 flex items-center justify-between rounded-t-2xl",children:[n.jsx("h2",{className:"text-xl font-bold text-[var(--text-primary)]",children:y==="login"?"Login to Continue":"Create Account"}),n.jsx("button",{onClick:ke,className:"p-2 text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)] rounded-full transition-colors",children:n.jsx(ns,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"p-6",children:n.jsx(Pc,{onAuthSuccess:U,initialMode:y})})]})}),b&&E&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between rounded-t-2xl",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Choose Payment Method"}),n.jsx("button",{onClick:ee,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",children:n.jsx(ns,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"p-6",children:n.jsx(Fc,{planId:E.id,planName:E.name,planPrice:E.price,onPaymentInitiated:ue,onError:be})})]})}),l&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsx(Ct,{size:"lg",color:"white"})})]})}const $c=({onGetStarted:s,onLogin:e,onNavigateToPricing:t,onNavigateToDocumentation:r,onNavigateToDownloads:a,onAuthSuccess:i})=>n.jsx(Dc,{children:n.jsx(Bc,{onGetStarted:s,onLogin:e,onNavigateToPricing:t,onNavigateToDocumentation:r,onNavigateToDownloads:a,onAuthSuccess:i})}),Tn=p.createContext(void 0),Hc=()=>{const s=p.useContext(Tn);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s},zc=({children:s})=>{const[e,t]=p.useState(null),[r,a]=p.useState(!0),i=!!e,o=async()=>{try{const l=localStorage.getItem("medMasterToken");if(!l){a(!1);return}const m=await F.get(V.auth.profile,Ae(l));t(m.data.user)}catch{localStorage.removeItem("medMasterToken"),localStorage.removeItem("medMasterEmail"),localStorage.removeItem("medMasterUsername")}finally{a(!1)}},d=async(l,m)=>{try{const b=await F.post(V.auth.login,{username:l,password:m}),{token:x,user:E}=b.data;return localStorage.setItem("medMasterToken",x),localStorage.setItem("medMasterEmail",E.email),localStorage.setItem("medMasterUsername",E.username),t(E),{success:!0,token:x,user:E}}catch(b){return{success:!1,message:b.response?.data?.message||"Login failed"}}},c=async(l,m,b)=>{try{return await F.post(V.auth.register,{username:l,email:m,password:b}),await d(l,b)}catch(x){return{success:!1,message:x.response?.data?.message||"Registration failed"}}},u=()=>{localStorage.removeItem("medMasterToken"),localStorage.removeItem("medMasterEmail"),localStorage.removeItem("medMasterUsername"),t(null)};p.useEffect(()=>{o()},[]);const h={user:e,isAuthenticated:i,isLoading:r,login:d,register:c,logout:u,checkAuthStatus:o};return n.jsx(Tn.Provider,{value:h,children:s})},Vc=({mode:s,onClose:e,onAuthSuccess:t,onSwitchMode:r})=>{const[a,i]=p.useState({username:"",email:"",password:"",confirmPassword:""}),[o,d]=p.useState(!1),[c,u]=p.useState(!1),[h,l]=p.useState(!1),[m,b]=p.useState({}),{login:x,register:E}=Hc(),H=()=>{const y={};return a.username.trim()||(y.username="Username is required"),s==="signup"?(a.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(y.email="Please enter a valid email address"):y.email="Email is required",a.password?a.password.length<6&&(y.password="Password must be at least 6 characters"):y.password="Password is required",a.password!==a.confirmPassword&&(y.confirmPassword="Passwords do not match")):a.password||(y.password="Password is required"),b(y),Object.keys(y).length===0},v=async y=>{if(y.preventDefault(),!!H()){l(!0);try{let f;s==="login"?f=await x(a.username,a.password):f=await E(a.username,a.email,a.password),f.success&&f.token&&f.user?(j.success(s==="login"?"Welcome back!":"Account created successfully!"),t(f.token,f.user.email,f.user.username)):j.error(f.message||`${s==="login"?"Login":"Registration"} failed`)}catch{j.error("An unexpected error occurred. Please try again.")}finally{l(!1)}}},w=y=>{const{name:f,value:I}=y.target;i(P=>({...P,[f]:I})),m[f]&&b(P=>({...P,[f]:""}))};return n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-gray-900 rounded-lg border border-gray-700 w-full max-w-md",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:s==="login"?"Welcome Back":"Create Account"}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:n.jsx(ns,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:v,className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),n.jsxs("div",{className:"relative",children:[n.jsx(rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",id:"username",name:"username",value:a.username,onChange:w,className:`w-full pl-10 pr-4 py-3 bg-gray-800 border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${m.username?"border-red-500":"border-gray-600"}`,placeholder:"Enter your username",disabled:h})]}),m.username&&n.jsx("p",{className:"mt-1 text-sm text-red-400",children:m.username})]}),s==="signup"&&n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),n.jsxs("div",{className:"relative",children:[n.jsx(ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:w,className:`w-full pl-10 pr-4 py-3 bg-gray-800 border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${m.email?"border-red-500":"border-gray-600"}`,placeholder:"Enter your email",disabled:h})]}),m.email&&n.jsx("p",{className:"mt-1 text-sm text-red-400",children:m.email})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx($s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:o?"text":"password",id:"password",name:"password",value:a.password,onChange:w,className:`w-full pl-10 pr-12 py-3 bg-gray-800 border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${m.password?"border-red-500":"border-gray-600"}`,placeholder:"Enter your password",disabled:h}),n.jsx("button",{type:"button",onClick:()=>d(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:o?n.jsx(kt,{className:"w-5 h-5"}):n.jsx(jt,{className:"w-5 h-5"})})]}),m.password&&n.jsx("p",{className:"mt-1 text-sm text-red-400",children:m.password})]}),s==="signup"&&n.jsxs("div",{children:[n.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password"}),n.jsxs("div",{className:"relative",children:[n.jsx($s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:c?"text":"password",id:"confirmPassword",name:"confirmPassword",value:a.confirmPassword,onChange:w,className:`w-full pl-10 pr-12 py-3 bg-gray-800 border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ${m.confirmPassword?"border-red-500":"border-gray-600"}`,placeholder:"Confirm your password",disabled:h}),n.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:c?n.jsx(kt,{className:"w-5 h-5"}):n.jsx(jt,{className:"w-5 h-5"})})]}),m.confirmPassword&&n.jsx("p",{className:"mt-1 text-sm text-red-400",children:m.confirmPassword})]}),n.jsx("button",{type:"submit",disabled:h,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 disabled:cursor-not-allowed text-white py-3 rounded-lg font-semibold transition-colors flex items-center justify-center",children:h?n.jsxs(n.Fragment,{children:[n.jsx(Xn,{className:"w-5 h-5 animate-spin mr-2"}),s==="login"?"Signing In...":"Creating Account..."]}):s==="login"?"Sign In":"Create Account"}),n.jsx("div",{className:"text-center pt-4 border-t border-gray-700",children:n.jsxs("p",{className:"text-gray-400",children:[s==="login"?"Don't have an account?":"Already have an account?",n.jsx("button",{type:"button",onClick:()=>r(s==="login"?"signup":"login"),className:"ml-2 text-blue-400 hover:text-blue-300 font-semibold transition-colors",disabled:h,children:s==="login"?"Sign Up":"Sign In"})]})})]})]})})};function Wc(){const[s,e]=p.useState(!1),[t,r]=p.useState("login"),a=()=>{r("signup"),e(!0)},i=()=>{r("login"),e(!0)},o=(c,u,h)=>{localStorage.setItem("medMasterToken",c),localStorage.setItem("medMasterEmail",u),localStorage.setItem("medMasterUsername",h),window.location.href="https://app.medmaster.site"},d=()=>{e(!1)};return n.jsx(zc,{children:n.jsxs("div",{className:"App",children:[n.jsx($c,{onGetStarted:a,onLogin:i}),s&&n.jsx(Vc,{mode:t,onClose:d,onAuthSuccess:o,onSwitchMode:c=>r(c)})]})})}sa.createRoot(document.getElementById("root")).render(n.jsxs(g.StrictMode,{children:[n.jsx(Wc,{}),n.jsx(Ua,{position:"top-right",richColors:!0})]}));
//# sourceMappingURL=index-9g29yQRH.js.map
